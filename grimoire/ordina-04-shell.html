<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr">
<head>
<!-- 2019-10-01 mar 12:32 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Eclats de vers : Ordina 04 : Shell</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="chimay" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../style/defaut.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">Eclats de vers : Ordina 04 : Shell</h1>
<p>
<a href="index.html">Index des Grimoires</a>
</p>

<p>
<a href="../index.html">Retour à l’accueil</a>
</p>

<div id="table-of-contents">
<h2>Table des matières</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgf3ca390">1. Zsh</a></li>
<li><a href="#orgefa0577">2. Bash</a></li>
<li><a href="#org458ae95">3. Expressions régulieres</a></li>
<li><a href="#orgc215aba">4. Sed</a></li>
<li><a href="#org9ec89be">5. Awk</a></li>
<li><a href="#org94c7499">6. Gpg</a></li>
<li><a href="#org76c8907">7. Ssh</a></li>
<li><a href="#org90c2479">8. Screen</a></li>
</ul>
</div>
</div>


<div id="outline-container-orgf3ca390" class="outline-2">
<h2 id="orgf3ca390"><span class="section-number-2">1</span> Zsh</h2>
<div class="outline-text-2" id="text-1">
<div id="text-table-of-contents">
<ul>
<li><a href="#orgcd18f83">1.1. Base</a></li>
<li><a href="#org6075c32">1.2. Ligne de commande</a></li>
<li><a href="#org7054d9e">1.3. Caractères magiques</a></li>
<li><a href="#org26d16f7">1.4. Motifs</a></li>
<li><a href="#orge26affb">1.5. Fichiers</a></li>
<li><a href="#org9b09afc">1.6. Processus</a></li>
<li><a href="#orgfb6c120">1.7. Redirections</a></li>
<li><a href="#org7017612">1.8. Variables</a></li>
<li><a href="#orge72e2f4">1.9. Globalisation</a></li>
<li><a href="#org899e9c1">1.10. Tableaux</a></li>
<li><a href="#orgeffda0a">1.11. Dictionnaires</a></li>
<li><a href="#orgfebee48">1.12. Environnement</a></li>
<li><a href="#org7ca5923">1.13. Scripts</a></li>
<li><a href="#orge979bf0">1.14. Configuration</a></li>
<li><a href="#org877f7a0">1.15. Fonctions</a></li>
<li><a href="#org80d1817">1.16. Conditions</a></li>
<li><a href="#org6d5e172">1.17. StructuresDeControle</a></li>
<li><a href="#org4eb51c3">1.18. Abréviations</a></li>
<li><a href="#org8b51bdb">1.19. Édition de la ligne de commande</a></li>
<li><a href="#orgec4ac6e">1.20. Complétion</a></li>
<li><a href="#org11f9104">1.21. Historique des commandes</a></li>
<li><a href="#orgccf255d">1.22. Conventions</a></li>
</ul>
</div>
</div>


<div id="outline-container-orgcd18f83" class="outline-3">
<h3 id="orgcd18f83"><span class="section-number-3">1.1</span> Base</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Un <b>shell</b> est un programme qui intéragit avec l’utilisateur
au moyen d'un interpréteur de commande. Il permet de dialoguer avec le système
d'exploitation. Nous allons étudier <b>zsh</b>, un shell très complet.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">man <i>commande</i></td>
<td class="org-left">Donne le manuel d'une commande</td>
</tr>

<tr>
<td class="org-left">man -k <i>mot<sub>clé</sub></i></td>
<td class="org-left">Donne la liste des commandes  correspondant à un mot<sub>clé</sub></td>
</tr>

<tr>
<td class="org-left">run-help <i>commande</i></td>
<td class="org-left">Aide sur une commande</td>
</tr>

<tr>
<td class="org-left">apropos <i>mot<sub>clé</sub></i></td>
<td class="org-left">Donne la liste des commandes  correspondant à un mot<sub>clé</sub></td>
</tr>

<tr>
<td class="org-left">type <i>mot</i></td>
<td class="org-left">Donne la nature du mot : brique du shell,  alias, fonction, commande, etc</td>
</tr>

<tr>
<td class="org-left">rehash</td>
<td class="org-left">Recharge le cache</td>
</tr>

<tr>
<td class="org-left">exit</td>
<td class="org-left">Sort du shell courant</td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-orgddc0a24" class="outline-4">
<h4 id="orgddc0a24"><span class="section-number-4">1.1.1</span> Lecture et écriture</h4>
<div class="outline-text-4" id="text-1-1-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">print</td>
<td class="org-left">Affiche du texte</td>
</tr>

<tr>
<td class="org-left">cat</td>
<td class="org-left">Affiche le contenu d'un fichier</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org72e6eb6" class="outline-4">
<h4 id="org72e6eb6"><span class="section-number-4">1.1.2</span> Terminal</h4>
<div class="outline-text-4" id="text-1-1-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;ctrl s&gt;</td>
<td class="org-left">Stoppe le terminal</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl q&gt;</td>
<td class="org-left">Reprend le terminal</td>
</tr>

<tr>
<td class="org-left">setterm</td>
<td class="org-left">Contrôle du comportement du terminal</td>
</tr>

<tr>
<td class="org-left">stty -a</td>
<td class="org-left">Affiche les principales commandes de contrôle du terminal</td>
</tr>

<tr>
<td class="org-left">reset</td>
<td class="org-left">Réinitialise le terminal</td>
</tr>

<tr>
<td class="org-left">clear</td>
<td class="org-left">Nettoie le terminal</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgdd8cc16" class="outline-4">
<h4 id="orgdd8cc16"><span class="section-number-4">1.1.3</span> Divers</h4>
<div class="outline-text-4" id="text-1-1-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">:</td>
<td class="org-left">Commande qui ne fait rien, 		mais qui est parfois exigée  par la syntaxe</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org6075c32" class="outline-3">
<h3 id="org6075c32"><span class="section-number-3">1.2</span> Ligne de commande</h3>
<div class="outline-text-3" id="text-1-2">
<p>
Une ligne de commande est une ligne interprétable et donc exécutable
par le shell. On exécute une ligne de commande au moyen de la touche
« Return » :
</p>

<pre class="example">
/ligne_de_commande/ &lt;Return&gt;
</pre>

<p>
Une ligne de commande basique se compose généralement d'un mot
désignant la commande, éventuellement suivi par un ou plusieurs mots
pouvant influencer le comportement de cette commandes. Ces derniers sont
appelés arguments de la commande. On a donc schématiquement une des
dispositions suivantes :
</p>

<pre class="example">
/commande/
/commande/ /argument/
/commande/ /argument_1/ /argument_2/ /.../ /argument_N/
</pre>

<p>
Il existe bien entendu des lignes de commandes plus complexes :
commandes composées de commandes simples, multilignes, représentant
des structure de contrôle, etc.
</p>
</div>


<div id="outline-container-orgb687941" class="outline-4">
<h4 id="orgb687941"><span class="section-number-4">1.2.1</span> Espaces</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
Les espaces ont une fonction essentielle : séparer les chaînes
de caractères que le shell va considérer comme des mots. On a vu par
exemple que dans une ligne de commande, les arguments sont des mots
séparés par un espace.
</p>

<p>
Lorsqu'on souhaite signaler au shell qu'une chaîne de caractères
contenant des espaces doit malgré tout être considérée comme un seul
mot, on dispose de trois techniques.
</p>

<p>
La première méthode utilise le préfixe
« \ » devant chaque espace. Exemple :
</p>

<pre class="example">
Chaîne\ de\ caractères\ vue\ comme\ un\ seul\ mot
</pre>

<p>
La deuxième méthode entoure la chaîne de guillemets simples :
</p>

<pre class="example">
'Chaîne de caractères vue comme un seul mot'
</pre>

<p>
La troisième méthode entoure la chaîne de guillemets doubles :
</p>

<pre class="example">
&amp;quot;Chaîne de caractères vue comme un seul mot&amp;quot;
</pre>
</div>
</div>


<div id="outline-container-orgc5cf0ed" class="outline-4">
<h4 id="orgc5cf0ed"><span class="section-number-4">1.2.2</span> Précommande</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
Une précommande modifie la façon dont le shell interprète la
ligne. Comme son nom l'indique, on la place avant la commande :
</p>

<pre class="example">
/precommande/ /commande/ /argument(s)/
</pre>
</div>
</div>


<div id="outline-container-org2297bb8" class="outline-4">
<h4 id="org2297bb8"><span class="section-number-4">1.2.3</span> Commandes internes et externes</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
Une commande interne du shell est appelée
<b>builtin</b>, par opposition aux commandes externes du
système d'exploitation. Lorsqu'il y a un risque d'ambiguité, les
précommandes suivantes permettent de préciser quel type de commande
on souhaite exécuter :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">builtin <i>commande<sub>interne</sub></i></td>
<td class="org-left">Précise que l'on souhaite l'exécution  d'une commande interne</td>
</tr>

<tr>
<td class="org-left">command <i>commande<sub>externe</sub></i></td>
<td class="org-left">Précise que l'on souhaite l'exécution  d'une commande externe</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org7054d9e" class="outline-3">
<h3 id="org7054d9e"><span class="section-number-3">1.3</span> Caractères magiques</h3>
<div class="outline-text-3" id="text-1-3">
<p>
Certains caractères ou groupes de caractères sont interprétés
de façon particulière par le shell. On nomme <b>caractères
magiques</b> de tels caractères. C'est le cas par exemple
de :
</p>

<pre class="example">
$ * ? [ ] &lt; &gt; &lt;&lt; &gt;&gt; [[ ]] Espaces, tabulations, retours ligne
</pre>
</div>


<div id="outline-container-orgb39d15b" class="outline-4">
<h4 id="orgb39d15b"><span class="section-number-4">1.3.1</span> Forme littérale</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
Il existe plusieurs méthodes pour transformer les caractères
magiques en caractères ordinaires. La première méthode utilise le
préfixe « \ »:
</p>

<pre class="example">
\/caractère_magique/
</pre>

<p>
La deuxième méthode utilise des guillemets simples sur une chaîne
contenant des caractères magiques :
</p>

<pre class="example">
'/chaine_avec_caractères_magiques/'
</pre>

<p>
La troisième méthode utilise des guillemets doubles :
</p>

<pre class="example">
&amp;quot;/chaine_avec_caractères_magiques/&amp;quot;
</pre>

<p>
ce qui a pour effet d'annuler l'effet spécial de certains
caractères (dont les espaces) mais pas de tous. Par exemple, le
« $ » est toujours actif.
</p>
</div>
</div>
</div>


<div id="outline-container-org26d16f7" class="outline-3">
<h3 id="org26d16f7"><span class="section-number-3">1.4</span> Motifs</h3>
<div class="outline-text-3" id="text-1-4">
<p>
Le shell utilise un peu partout des motifs magiques. En voici les principaux :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">*</td>
<td class="org-left">N'importe quelle chaîne de caractères</td>
</tr>

<tr>
<td class="org-left">?</td>
<td class="org-left">N'importe quel caractère</td>
</tr>

<tr>
<td class="org-left">[/groupeDeCaractère/]</td>
<td class="org-left">N'importe quel caractère du groupe</td>
</tr>

<tr>
<td class="org-left">[^/groupeDeCaractère/]</td>
<td class="org-left">N'importe quel caractère sauf ceux du groupe</td>
</tr>

<tr>
<td class="org-left">&lt;/M/-/N/&gt;</td>
<td class="org-left">N'importe quel nombre entier entre <i>M</i> et <i>N</i></td>
</tr>

<tr>
<td class="org-left">(<i>chaine-1/¦/chaine-2</i>)</td>
<td class="org-left"><i>chaine-1</i> ou <i>chaine-2</i></td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-org6243778" class="outline-4">
<h4 id="org6243778"><span class="section-number-4">1.4.1</span> Variantes</h4>
<div class="outline-text-4" id="text-1-4-1">
<p>
Les accolades permettent de jongler avec les variantes d'un mot. Ainsi :
</p>

<pre class="example">
{/Chaine/,/Variante/}
</pre>

<p>
est équivalent à :
</p>

<pre class="example">
/Chaine/   /Variante/
</pre>

<p>
Plus généralement :
</p>

<pre class="example">
/abc/{/Chaine/,/Variante/}/xyz/
</pre>

<p>
est équivalent à :
</p>

<pre class="example">
/abc//Chaine//xyz/
 
/abc//Variante//xyz/
</pre>

<p>
Un exemple courant d'utilisation est de renommer un fichier
vers un nom proche. Ainsi, pour modifier l'extension .txt en .sh,
on fait :
</p>

<pre class="example">
mv /fichier/.{txt,sh}
</pre>

<p>
qui sera étendu par le shell en :
</p>

<pre class="example">
mv /fichier/.txt /fichier/.sh
</pre>
</div>
</div>


<div id="outline-container-org0561527" class="outline-4">
<h4 id="org0561527"><span class="section-number-4">1.4.2</span> Plages</h4>
<div class="outline-text-4" id="text-1-4-2">
<p>
Les accolades permettent également de générer une plage de nombres
entiers. On utilise alors la forme :
</p>

<pre class="example">
{/M/../N/}
</pre>
</div>
</div>
</div>


<div id="outline-container-orge26affb" class="outline-3">
<h3 id="orge26affb"><span class="section-number-3">1.5</span> Fichiers</h3>
<div class="outline-text-3" id="text-1-5">
</div>
<div id="outline-container-org693b6df" class="outline-4">
<h4 id="org693b6df"><span class="section-number-4">1.5.1</span> Objets</h4>
<div class="outline-text-4" id="text-1-5-1">
<p>
Un <b>fichier</b> est un objet destiné à contenir
des données.
</p>

<p>
Un <b>répertoire</b> est un objet destiné à contenir
d'autres objets : fichiers, sous-répertoires, etc.
</p>

<p>
Un <b>lien symbolique</b> est un objet destiné à contenir
une adresse permettant d'accéder à un autre objet : fichier, répertoire, etc.
On dit que le lien symbolique <b>référence</b> l'objet auquel
il permet d'accéder.
</p>

<p>
Un <b>lien dur</b> est un fichier synonyme d'un autre
fichier : les deux noms référencent le même fichier.
</p>
</div>


<div id="outline-container-org8fa061a" class="outline-5">
<h5 id="org8fa061a"><span class="section-number-5">1.5.1.1</span> Fichier standard ou régulier</h5>
<div class="outline-text-5" id="text-1-5-1-1">
<p>
On part des constatations suivantes :
</p>

<ul class="org-ul">
<li>un répertoire peut être vu comme un fichier particulier contenant
une liste de fichiers, sous-répertoires, liens, etc</li>

<li>un lien symbolique peut être vu comme un fichier contenant une
adresse vers un objet</li>
</ul>

<p>
On utilise donc par extension le terme de <b>fichier</b> pour
désigner également des répertoires, liens symboliques, etc.
</p>

<p>
Lorsqu'on veut préciser qu'un fichier n'a rien de particulier,
c'est-à-dire qu'il n'est ni un répertoire, ni un lien symbolique,
etc, on parle de <b>fichier standard</b>
ou de <b>fichier régulier</b>.
</p>
</div>
</div>


<div id="outline-container-org847e15e" class="outline-5">
<h5 id="org847e15e"><span class="section-number-5">1.5.1.2</span> Arborescence</h5>
<div class="outline-text-5" id="text-1-5-1-2">
<p>
Une arborescence est constituée de répertoires emboîtés les uns dans
les autres. Le répertoire racine contient tous les répertoires de niveau
un. Chaque répertoire de niveau un contient à son tour des répertoires
de niveau deux. Chaque répertoire de niveau deux contient des répertoires
dits de niveau trois, etc.
</p>
</div>
</div>


<div id="outline-container-orge44f5e0" class="outline-5">
<h5 id="orge44f5e0"><span class="section-number-5">1.5.1.3</span> Système de fichier</h5>
<div class="outline-text-5" id="text-1-5-1-3">
<p>
Un système de fichiers est grossièrement une table constituée
de deux colonnes : la première colonne contient les noms de fichiers
et la seconde contient l'adresse permettant d'accéder au contenu
du fichier sur le disque :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">fichier-1</td>
<td class="org-left">adresse-1</td>
</tr>

<tr>
<td class="org-left">fichier-2</td>
<td class="org-left">adresse-2</td>
</tr>

<tr>
<td class="org-left">&#x2026;</td>
<td class="org-left">&#x2026;</td>
</tr>

<tr>
<td class="org-left">fichier-N</td>
<td class="org-left">adresse-N</td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-orge49118d" class="outline-6">
<h6 id="orge49118d"><span class="section-number-6">1.5.1.3.1</span> Montage</h6>
<div class="outline-text-6" id="text-1-5-1-3-1">
<p>
Les système Unix permettent généralement de monter l'arborescence
complète d'un système de fichier dans un répertoire d'un autre
système de fichiers, ce qui fait qu'une arborescence peut contenir
plusieurs systèmes de fichiers.
</p>
</div>
</div>
</div>
</div>


<div id="outline-container-orgf21d3ab" class="outline-4">
<h4 id="orgf21d3ab"><span class="section-number-4">1.5.2</span> Symboles</h4>
<div class="outline-text-4" id="text-1-5-2">
<p>
Le répertoire racine est symbolisé par :
</p>

<pre class="example">
/
</pre>

<p>
Le répertoire courant est désigné par un point :
</p>

<pre class="example">
.
</pre>

<p>
Le répertoire parent est le répertoire contenant
le répertoire courant. On le désigne par deux points consécutifs :
</p>

<pre class="example">
..
</pre>

<p>
Le tilde désigne le répertoire personnel (souvent <i>home//utilisateur</i>)
de l'utilisateur courant :
</p>

<pre class="example">
~
</pre>

<p>
Le symbole :
</p>

<pre class="example">
~/utilisateur/
</pre>

<p>
désigne le répertoire personnel d'un utilisateur donné.
</p>

<p>
Le zsh a également comme convention de désigner par :
</p>

<pre class="example">
~+
</pre>

<p>
le répertoire actuel et par :
</p>

<pre class="example">
~-
</pre>

<p>
le répertoire d'où l'on vient.
</p>
</div>
</div>


<div id="outline-container-org3c091ba" class="outline-4">
<h4 id="org3c091ba"><span class="section-number-4">1.5.3</span> Navigation dans les répertoires</h4>
<div class="outline-text-4" id="text-1-5-3">
<p>
La commande <b>cd</b> permet d'accéder
à un sous-répertoire <i>Rép</i> du répertoire courant :
</p>

<pre class="example">
cd /Rép/
</pre>

<p>
Il est possible de se déplacer de plusieurs niveaux
d'un coup. La commande :
</p>

<pre class="example">
cd /Rép_1///Rép_2/
</pre>

<p>
accède au sous-répertoire <i>Rép<sub>2</sub></i> du
sous-répertoire <i>Rép<sub>1</sub></i> du répertoire
courant. On généralise cette commande par :
</p>

<pre class="example">
cd /Rép_1///Rép_2///...///Rép_N/
</pre>

<p>
On parle pour :
</p>

<pre class="example">
/Rép_1///Rép_2///...///Rép_N/
</pre>

<p>
de chemin relatif, car il dépend du répertoire courant.
Il est également possible de désigner le chemin de
répertoires en partant de la racine du système de fichier.
Il suffit pour cela de faire précéder le chemin du symbole
/ désignant la racine :
</p>

<pre class="example">
cd //Rép_1///Rép_2///...///Rép_N/
</pre>

<p>
On parle pour :
</p>

<pre class="example">
//Rép_1///Rép_2///...///Rép_N/
</pre>

<p>
de chemin absolu, car il ne dépend pas du répertoire courant.
</p>

<p>
On se déplace vers le répertoire parent par :
</p>

<pre class="example">
cd ..
</pre>

<p>
On se déplace vers le répertoire racine par :
</p>

<pre class="example">
cd /
</pre>

<p>
On se déplace vers le répertoire d'où l'on vient par :
</p>

<pre class="example">
cd -
</pre>

<p>
La commande :
</p>

<pre class="example">
pwd
</pre>

<p>
affiche le répertoire courant.
</p>
</div>
</div>


<div id="outline-container-orgc0867c2" class="outline-4">
<h4 id="orgc0867c2"><span class="section-number-4">1.5.4</span> Pile de répertoires</h4>
<div class="outline-text-4" id="text-1-5-4">
<p>
La pile de répertoires permet de conserver les
répertoires fréquemment utilisés. Le répertoire
courant sera toujours adapté au répertoire situé
au sommet de la pile.
</p>

<p>
On ajoute un répertoire au sommet de la pile par :
</p>

<pre class="example">
pushd /répertoire/
</pre>

<p>
Cette commande a donc également pour effet de
se déplacer vers le répertoire donné.
</p>

<p>
On supprime le répertoire situé au sommet de la pile par :
</p>

<pre class="example">
popd
</pre>

<p>
Cette commande a également pour effet de se déplacer
vers le répertoire qui était situé juste sous le sommet
de la pile et qui devient à présent le sommet.
</p>

<p>
On affiche le contenu de la pile par :
</p>

<pre class="example">
dirs -v
</pre>

<p>
On se déplace au /N/&lt;sup&gt;ème&lt;/sup&gt; répertoire en partant
du sommet de la pile par :
</p>

<pre class="example">
pushd +/N/
</pre>

<p>
On se déplace au /N/&lt;sup&gt;ème&lt;/sup&gt; répertoire en partant
du bas de la pile par :
</p>

<pre class="example">
pushd -/N/
</pre>

<p>
Chaque répertoire de la pile est également accessible par :
</p>

<pre class="example">
cd ~/N/
</pre>

<p>
où <i>N</i> est le numéro du répertoire donné par la sortie de
« dirs -v »
</p>
</div>
</div>


<div id="outline-container-orgd6ee381" class="outline-4">
<h4 id="orgd6ee381"><span class="section-number-4">1.5.5</span> Liste des fichiers</h4>
<div class="outline-text-4" id="text-1-5-5">
<p>
La commande :
</p>

<pre class="example">
ls
</pre>

<p>
affiche le contenu du répertoire courant : fichiers,
sous-répertoires, liens, etc. Par défaut, elle n'affiche pas les
objets cachés, qui commencent par convention par un point dans les
systèmes Unix.  L'option -a permet d'afficher tous les objets, masqués
ou non :
</p>

<pre class="example">
ls -a
</pre>

<p>
On peut donner en argument le nom du répertoire dont on souhaite
afficher le contenu :
</p>

<pre class="example">
ls /répertoire/
</pre>

<p>
L'option -l affiche plus d'information :
</p>

<pre class="example">
ls -l
</pre>

<p>
L'option -t trie par date de dernière modification :
</p>

<pre class="example">
ls -t
</pre>

<p>
L'option -d permet d'afficher seulement les informations
sur un répertoire, sans en explorer le contenu :
</p>

<pre class="example">
ls -d /répertoire/
</pre>

<p>
On la combine souvent avec l'option -l :
</p>

<pre class="example">
ls -l -d /répertoire/
</pre>

<p>
Les options pouvant se condenser devant un unique tiret,
on a la forme équivalente :
</p>

<pre class="example">
ls -ld /répertoire/
</pre>
</div>
</div>


<div id="outline-container-org6f3a50d" class="outline-4">
<h4 id="org6f3a50d"><span class="section-number-4">1.5.6</span> Création de répertoire</h4>
<div class="outline-text-4" id="text-1-5-6">
<p>
La commande :
</p>

<pre class="example">
mkdir /répertoire/
</pre>

<p>
crée un répertoire. L'option -p permet de créer plusieurs niveaux de
répertoires d'un coup :
</p>

<pre class="example">
mkdir -p /Rép_1///Rép_2///...///Rép_N/
</pre>
</div>
</div>


<div id="outline-container-org8c024a4" class="outline-4">
<h4 id="org8c024a4"><span class="section-number-4">1.5.7</span> Copie</h4>
<div class="outline-text-4" id="text-1-5-7">
<p>
La commande <b>cp</b> permet de copie un fichier
source vers un fichier ou répertoire destination :
</p>

<pre class="example">
cp /source/ /destination/
</pre>

<p>
Cet exemple copie le contenu d'un fichier dans un autre :
</p>

<pre class="example">
cp /fichier_1/ /fichier_2/
</pre>

<p>
Cet exemple copie un fichier dans un répertoire donné :
</p>

<pre class="example">
cp /fichier/ /répertoire/
</pre>

<p>
Cet exemple copie un fichier provenant d'un autre
répertoire dans le répertoire courant :
</p>

<pre class="example">
cp /chemin///fichier/ .
</pre>

<p>
Cet exemple copie un fichier dans le répertoire parent :
</p>

<pre class="example">
cp /fichier/ ..
</pre>

<p>
Par défaut, la commande cp n'agit que sur des fichiers.
L'option -R lui demande d'agir récursivement sur les répertoires,
les sous-répertoires, et ainsi de suite :
</p>

<pre class="example">
cp -R /répertoire-source/ /répertoire-destination/
</pre>
</div>
</div>


<div id="outline-container-org4a00fc9" class="outline-4">
<h4 id="org4a00fc9"><span class="section-number-4">1.5.8</span> Renommer ou déplacer</h4>
<div class="outline-text-4" id="text-1-5-8">
<p>
La commande <b>mv</b> permet de renommer ou déplacer un fichier.
Sa syntaxe est similaire à celle de cp :
</p>

<pre class="example">
mv /source/ /destination/
</pre>

<p>
Cet exemple renomme un fichier :
</p>

<pre class="example">
mv /fichier_1/ /fichier_2/
</pre>

<p>
Cet exemple déplace un fichier dans un répertoire donné :
</p>

<pre class="example">
mv /fichier/ /répertoire/
</pre>

<p>
Cet exemple déplace un fichier provenant d'un autre
répertoire dans le répertoire courant :
</p>

<pre class="example">
mv /chemin///fichier/ .
</pre>

<p>
Cet exemple déplace un fichier dans le répertoire parent :
</p>

<pre class="example">
mv /fichier/ ..
</pre>
</div>
</div>


<div id="outline-container-org1f34e5f" class="outline-4">
<h4 id="org1f34e5f"><span class="section-number-4">1.5.9</span> Suppression</h4>
<div class="outline-text-4" id="text-1-5-9">
<p>
La commande <b>rm</b> efface des fichiers :
</p>

<pre class="example">
rm /fichier(s)/
</pre>

<p>
L'option -r lui demande d'agir récursivement sur des répertoires :
</p>

<pre class="example">
rm -r /répertoire(s)/
</pre>

<p>
L'option -f lui demande de ne pas demander confirmation :
</p>

<pre class="example">
rm -f /fichier(s)/
rm -rf /répertoire(s)/
</pre>

<p>
Pour être plus précis, la commande rm n'efface pas les contenus
des fichiers sur le disque, mais uniquement les entrée correspondantes
dans la table du système de fichier.
</p>
</div>
</div>


<div id="outline-container-org051f419" class="outline-4">
<h4 id="org051f419"><span class="section-number-4">1.5.10</span> Liens</h4>
<div class="outline-text-4" id="text-1-5-10">
</div>
<div id="outline-container-orgb80e727" class="outline-5">
<h5 id="orgb80e727"><span class="section-number-5">1.5.10.1</span> Symboliques</h5>
<div class="outline-text-5" id="text-1-5-10-1">
<p>
La commande <b>ln</b> permet de créer des liens.
L'option -s crée un lien symbolique :
</p>

<pre class="example">
ln -s /cible/ /lien_symbolique/
</pre>

<p>
La cible peut être un fichier, un répertoire, un autre lien, etc. Les
accés au lien seront considérés comme des accès à la cible qu'il référence.
Ainsi, si on crée un lien symbolique vers un fichier :
</p>

<pre class="example">
ln -s /fichier/ /lien_fichier/
</pre>

<p>
et qu'on demande à un éditeur de texte d'ouvrir le lien, ce sera bien
le contenu du fichier cible qui apparaîtra. Si on crée un lien symbolique
vers un répertoire en donnant un chemin absolu ou relatif pour cible :
</p>

<pre class="example">
ln -s /répertoire/ /lien_répertoire/
</pre>

<p>
la commande :
</p>

<pre class="example">
cd /lien_répertoire/
</pre>

<p>
sera équivalente à :
</p>

<pre class="example">
cd /répertoire/
</pre>
</div>
</div>


<div id="outline-container-org6a2455f" class="outline-5">
<h5 id="org6a2455f"><span class="section-number-5">1.5.10.2</span> Durs</h5>
<div class="outline-text-5" id="text-1-5-10-2">
<p>
La commande ln sans option -s crée un lien dur :
</p>

<pre class="example">
ln /cible/ /lien_dur/
</pre>
</div>
</div>


<div id="outline-container-orgd629c0f" class="outline-5">
<h5 id="orgd629c0f"><span class="section-number-5">1.5.10.3</span> Différences</h5>
<div class="outline-text-5" id="text-1-5-10-3">
<p>
Un lien symbolique contient une référence à un nom de fichier, ce dernier
permettant de retrouver dans la table du système de fichier auquel
il appartient l'adresse du contenu sur le disque. On a donc le schéma :
</p>

<pre class="example">
Lien_symbolique ——&gt; Nom_du_fichier ——&gt; Contenu
</pre>

<p>
Si on supprime le lien symbolique :
</p>

<pre class="example">
rm Lien_symbolique
</pre>

<p>
le fichier sera toujours accessible :
</p>

<pre class="example">
Nom_du_fichier ——&gt; Contenu
</pre>

<p>
Par contre, si on supprime le fichier
ciblé par le lien :
</p>

<pre class="example">
rm Nom_du_fichier
</pre>

<p>
le lien référencera une entrée dans la table du système de fichier
qui n'existe plus :
</p>

<pre class="example">
Lien_symbolique ——&gt; ??? ——&gt; Contenu
</pre>

<p>
et le contenu du fichier sera introuvable.
</p>

<p>
Un lien dur est un synonyme ajoutant une entrée dans la table
du système de fichier :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#x2026;</td>
<td class="org-left">&#x2026;</td>
</tr>

<tr>
<td class="org-left">Nom<sub>du</sub><sub>fichier</sub></td>
<td class="org-left">Adresse<sub>du</sub><sub>contenu</sub></td>
</tr>

<tr>
<td class="org-left">Lien<sub>dur</sub></td>
<td class="org-left">Adresse<sub>du</sub>-contenu</td>
</tr>

<tr>
<td class="org-left">&#x2026;</td>
<td class="org-left">&#x2026;</td>
</tr>
</tbody>
</table>

<p>
On a donc le schéma :
</p>

<pre class="example">
Nom_du_fichier ——&gt; Contenu &lt;—— Lien_dur
</pre>

<p>
Si on supprime le lien dur :
</p>

<pre class="example">
rm Lien_dur
</pre>

<p>
le fichier sera toujours accessible :
</p>

<pre class="example">
Nom_du_fichier ——&gt; Contenu
</pre>

<p>
Il en va de même si on supprime le fichier ciblé par le lien :
</p>

<pre class="example">
rm Nom_du_fichier
</pre>

<p>
car le contenu sera alors accessible via le lien :
</p>

<pre class="example">
Contenu ⟻ Lien_dur
</pre>

<p>
Le lien dur est donc symétrique pour la suppression, tandis que le
lien symbolique est asymétrique. Comme autres différences, notons qu'un
lien symbolique peut référencer un fichier situé dans un autre système
de fichiers, tandis que les liens durs sont confinés à l'intérieur
d'un même système de fichier.
</p>
</div>
</div>
</div>


<div id="outline-container-org6653191" class="outline-4">
<h4 id="org6653191"><span class="section-number-4">1.5.11</span> Propriétaire et groupe</h4>
<div class="outline-text-4" id="text-1-5-11">
<p>
Sous les systèmes UNIX, un fichier appartient à un propriétaire
et à un groupe. On peut modifier ces paramètres via la commande :
</p>

<pre class="example">
chown /propriétaire/:/groupe/ /fichier/
</pre>

<p>
Attention toutefois, une fois que l'on n'est plus propriétaire du
fichier, il n'y a plus de retour en arrière possible : seul le
propriétaire d'un fichier et le super-utilisateur <b>root</b>
peuvent modifier propriétaire et groupe d'un fichier.
</p>
</div>
</div>


<div id="outline-container-org4c7b810" class="outline-4">
<h4 id="org4c7b810"><span class="section-number-4">1.5.12</span> Permissions</h4>
<div class="outline-text-4" id="text-1-5-12">
<p>
Les principales permissions attachées à un fichier sont :
</p>

<ul class="org-ul">
<li>r : Droit de lecture</li>
<li>w : Droit d'écriture (de modification)</li>
<li>x : Droit d'exécution</li>
</ul>

<p>
Ces permissions peuvent être données ou retirées :
</p>

<ul class="org-ul">
<li>u : au propriétaire</li>
<li>g : aux membres du groupe</li>
<li>o : aux autres</li>
</ul>

<p>
Les permissions s'ajoutent au moyen de la commande :
</p>

<pre class="example">
chmod /qui/+/quoi/ /fichier/
</pre>

<p>
ou se retirent au moyen de la commande :
</p>

<pre class="example">
chmod /qui/-/quoi/ /fichier/
</pre>

<p>
où :
</p>
<ul class="org-ul">
<li><i>qui</i> = u, g ou o</li>
<li><i>quoi</i> = r, w ou x</li>
</ul>

<p>
Ainsi, la commande :
</p>

<pre class="example">
chmod g+w /fichier/
</pre>

<p>
donne les droits d'écriture aux membres du groupes.
</p>
</div>
</div>


<div id="outline-container-org20ae29b" class="outline-4">
<h4 id="org20ae29b"><span class="section-number-4">1.5.13</span> Attributs</h4>
<div class="outline-text-4" id="text-1-5-13">
<p>
Les attributs permettent de configurer finement certains fichiers
Ils se modifient avec la commande :
</p>

<pre class="example">
chattr
</pre>

<p>
qui utilise une syntexe +attribut/-attribut analogue à <b>chmod</b>.
</p>
</div>
</div>


<div id="outline-container-org48f4acf" class="outline-4">
<h4 id="org48f4acf"><span class="section-number-4">1.5.14</span> Montage</h4>
<div class="outline-text-4" id="text-1-5-14">
<p>
La commande mount permet de monter un système de fichiers
dans le répertoire d'un autre. Ce dernier répertoire est appelé
point de montage :
</p>

<pre class="example">
mount /systèmeDeFichiers/
 /pointDeMontage/
</pre>

<p>
Les systèmes de fichiers sont généralement accessible
par des fichiers magiques situés dans le répertoire /dev :
</p>

<pre class="example">
mount /dev//systèmeDeFichiers/
 /pointDeMontage/
</pre>

<p>
Un fichier image est un fichier contenant un système
de fichiers. L'option -o loop permet de monter un fichier image :
</p>

<pre class="example">
mount -o loop /fichierImage/
 /pointDeMontage/
</pre>

<p>
Que faire si l’on souhaite manipuler plusieurs images en même temps
? On utilise losetup :
</p>

<pre class="example">
losetup -f
</pre>

<p>
qui affiche le premier périphérique de boucle libre :
</p>

<pre class="example">
/dev/loop0
</pre>

<p>
On lie ensuite ce résultat au fichier image par :
</p>

<pre class="example">
losetup /dev/loop0 /fichierImage/
</pre>

<p>
Il ne reste plus qu'à monter ce périphérique :
</p>

<pre class="example">
mount /dev/loop0 /pointDeMontage/
</pre>

<p>
Si on souhaite recommencer avec une autre image :
</p>

<pre class="example">
losetup -f
</pre>

<p>
qui affiche le premier périphérique de boucle libre :
</p>

<pre class="example">
/dev/loop1
</pre>

<p>
On lie ensuite ce résultat au fichier image par :
</p>

<pre class="example">
losetup /dev/loop1 /autreFichierImage/
</pre>

<p>
Il ne reste plus qu'à monter ce périphérique :
</p>

<pre class="example">
mount /dev/loop1 /pointDeMontage/
</pre>
</div>
</div>


<div id="outline-container-org21f2f4e" class="outline-4">
<h4 id="org21f2f4e"><span class="section-number-4">1.5.15</span> Autres commandes</h4>
<div class="outline-text-4" id="text-1-5-15">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">basename <i>fichier</i></td>
<td class="org-left">Nom du fichier sans le répertoire</td>
</tr>

<tr>
<td class="org-left">dirname <i>fichier</i></td>
<td class="org-left">Nom du répertoire sans le fichier</td>
</tr>

<tr>
<td class="org-left">readlink <i>lien</i></td>
<td class="org-left">Cible du lien</td>
</tr>

<tr>
<td class="org-left">readlink -f <i>lien</i></td>
<td class="org-left">Cible récursive du lien</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org9b09afc" class="outline-3">
<h3 id="org9b09afc"><span class="section-number-3">1.6</span> Processus</h3>
<div class="outline-text-3" id="text-1-6">
<p>
Une commande attachée au terminal s'appelle un <b>job</b>.
</p>

<p>
Lorsque le shell attend la fin de l'exécution d'un job avant d'accepter
d'autres commandes, on dit que le job est en <b>avant-plan</b>.
Il ne peut donc y avoir au maximum qu'un seul job en avant-plan
à un instant donné.
</p>

<p>
Lorsque le shell exécute un job en parallèle tout en acceptant d'autres
commandes, on dit que le job est en <b>arrière-plan</b>. Il peut
donc y avoir plusieurs jobs en arrière-plan à un instant donné.
</p>
</div>


<div id="outline-container-org13a1ffe" class="outline-4">
<h4 id="org13a1ffe"><span class="section-number-4">1.6.1</span> Contrôle du terminal</h4>
<div class="outline-text-4" id="text-1-6-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;ctrl d&gt;</td>
<td class="org-left">Signale la fin de fichier ou sort du shell courant</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl s&gt;</td>
<td class="org-left">Suspend la sortie du terminal</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl q&gt;</td>
<td class="org-left">Reprend la sortie du terminal</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orga2776e1" class="outline-4">
<h4 id="orga2776e1"><span class="section-number-4">1.6.2</span> Contrôle des jobs en avant-plan</h4>
<div class="outline-text-4" id="text-1-6-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>job</i></td>
<td class="org-left">Lance un job en avant-plan</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl c&gt;</td>
<td class="org-left">Annule le job</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl z&gt;</td>
<td class="org-left">Suspend le job</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org6540bd1" class="outline-4">
<h4 id="org6540bd1"><span class="section-number-4">1.6.3</span> Contrôle des jobs en arrière-plan</h4>
<div class="outline-text-4" id="text-1-6-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>job</i> &amp;</td>
<td class="org-left">Lance un job en arrière-plan</td>
</tr>

<tr>
<td class="org-left"><i>job1</i> &amp; <i>job2</i> &amp; <i>&#x2026;..</i> &amp; <i>jobN</i> &amp;</td>
<td class="org-left">Lance plusieurs jobs en parallèle</td>
</tr>

<tr>
<td class="org-left">jobs</td>
<td class="org-left">Donne la liste des jobs</td>
</tr>

<tr>
<td class="org-left">wait %/nom/</td>
<td class="org-left">Attend la fin du job dont le nom contient <i>nom</i></td>
</tr>

<tr>
<td class="org-left">kill %/nom/</td>
<td class="org-left">Termine le job dont le nom contient <i>nom</i></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org1bec449" class="outline-4">
<h4 id="org1bec449"><span class="section-number-4">1.6.4</span> Contrôle hybride</h4>
<div class="outline-text-4" id="text-1-6-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>job1</i> &amp; <i>job2</i></td>
<td class="org-left">Lance <i>job1</i> en arrière-plan    et <i>job2</i> en avant-plan</td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-orgf13d8ea" class="outline-5">
<h5 id="orgf13d8ea"><span class="section-number-5">1.6.4.1</span> Passage entre avant-plan et arrière-plan</h5>
<div class="outline-text-5" id="text-1-6-4-1">
<p>
La commande <b>fg</b> permet de faire passer en avant-plan
un job lancé en arrière-plan ou suspendu par &lt;ctrl z&gt; :
</p>

<pre class="example">
fg %/nom/
</pre>

<p>
La commande <b>bg</b> permet de faire passer en arrière-plan
un job lancé en avant-plan et suspendu par &lt;ctrl z&gt; :
</p>

<pre class="example">
bg %/nom/
</pre>
</div>
</div>
</div>


<div id="outline-container-org2fcd8c0" class="outline-4">
<h4 id="org2fcd8c0"><span class="section-number-4">1.6.5</span> Détachement</h4>
<div class="outline-text-4" id="text-1-6-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>job</i> &amp;!</td>
<td class="org-left">Lance un job et le détache du shell   		Il ne sera pas terminé lors de la  fermeture du shell</td>
</tr>

<tr>
<td class="org-left">disown %/nom/</td>
<td class="org-left">Détache du shell le job  dont le nom contient <i>nom</i></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org16a0cd5" class="outline-4">
<h4 id="org16a0cd5"><span class="section-number-4">1.6.6</span> Exécution conditionnelle</h4>
<div class="outline-text-4" id="text-1-6-6">
<p>
La structure :
</p>

<pre class="example">
/commande1/ &amp;&amp; /commande2/
</pre>

<p>
exécute <i>commande2</i> uniquement si
<i>commande1</i> réussit.
</p>

<p>
La structure :
</p>

<pre class="example">
/commande1/ || /commande2/
</pre>

<p>
exécute <i>commande2</i> uniquement si
<i>commande1</i> échoue.
</p>

<p>
La structure :
</p>

<pre class="example">
/commande1/ &amp;&amp;
/commande2/ ||
/commande3/
</pre>

<p>
exécute <i>commande2</i> si
<i>commande1</i> réussit. Si
<i>commande1</i> ou <i>commande2</i>
échoue, <i>commande3</i> sera exécutée.
</p>

<p>
Par exemple, la commande :
</p>

<pre class="example">
wait %/nom/ &amp;&amp; /commande/
</pre>

<p>
attend la fin du job dont le nom contient <i>nom</i> et exécute
<i>commande</i> ensuite.
</p>
</div>
</div>
</div>


<div id="outline-container-orgfb6c120" class="outline-3">
<h3 id="orgfb6c120"><span class="section-number-3">1.7</span> Redirections</h3>
<div class="outline-text-3" id="text-1-7">
<p>
Chaque commande executée dans un shell possède trois canaux par défaut
où transitent les données :
</p>

<ul class="org-ul">
<li>l'entrée standard, où la commande lit ses données</li>
<li>la sortie standard, où la commande écrit ses données ordinaires</li>
<li>l'erreur standard, où la commande écrit ses messages d'erreurs</li>
</ul>

<p>
Par défaut, entrée, sortie et erreur standard se font sur le terminal,
mais on peut demander au shell de rediriger ces canaux vers un fichier.
</p>
</div>


<div id="outline-container-orgf4c9f31" class="outline-4">
<h4 id="orgf4c9f31"><span class="section-number-4">1.7.1</span> Entrée</h4>
<div class="outline-text-4" id="text-1-7-1">
<p>
La ligne suivante demande à la commande de lire son entrée standard
dans un fichier :
</p>

<pre class="example">
/commande/ &lt; /fichier/
</pre>

<p>
On dit alors que l'entrée standard est redirigée vers le fichier.
</p>
</div>


<div id="outline-container-org872df8a" class="outline-5">
<h5 id="org872df8a"><span class="section-number-5">1.7.1.1</span> Herescript</h5>
<div class="outline-text-5" id="text-1-7-1-1">
<p>
Les lignes suivantes :
</p>

<pre class="example">
/commande/ &lt;&lt; /signalFin/
/blabla/
/signalFin/
</pre>

<p>
demandent à la commande de lire ses données d'entrée standard
dans la où les lignes <i>blabla</i> jusqu'à
l'apparition de <i>signalFin</i>. La variante
suivante ignore les tabulations en début de ligne :
</p>

<p>
<i>commande</i> &lt;&lt;- <i>signalFin</i>
</p>
<pre class="example">
/blabla/
</pre>
<p>
<i>signalFin</i>
</p>
</div>
</div>


<div id="outline-container-orgafb7eb4" class="outline-5">
<h5 id="orgafb7eb4"><span class="section-number-5">1.7.1.2</span> Herestring</h5>
<div class="outline-text-5" id="text-1-7-1-2">
<p>
La ligne suivante :
</p>

<p>
<i>commande</i> &lt;&lt;&lt; "<i>chaîne</i>"&lt;/div&gt;
</p>

<p>
demande à la commande de lire ses données d'entrée standard dans
une chaîne de caractères. La chaîne de caractères peut occuper
plusieurs lignes :
</p>

<p>
<i>commande</i> &lt;&lt;&lt; "<i>blabla</i>
</p>
<pre class="example">
/blabla/
/blabla/"
</pre>
</div>
</div>
</div>


<div id="outline-container-org5f8e8f3" class="outline-4">
<h4 id="org5f8e8f3"><span class="section-number-4">1.7.2</span> Sortie</h4>
<div class="outline-text-4" id="text-1-7-2">
<p>
On peut demander à une commande d'écrire ses données de sortie standard
dans un fichier :
</p>

<pre class="example">
/commande/ &gt; /fichier/
</pre>

<p>
Le fichier est écrasé si il existe déjà. On dit que la sortie standard
est redirigée vers le fichier.
</p>
</div>


<div id="outline-container-orgb5546c6" class="outline-5">
<h5 id="orgb5546c6"><span class="section-number-5">1.7.2.1</span> Ajout</h5>
<div class="outline-text-5" id="text-1-7-2-1">
<p>
On peut demander à une commande d'écrire ses données de sortie standard
<b>en ajout</b> à la fin d'un fichier :
</p>

<pre class="example">
/commande/ &gt;&gt; /fichier/
</pre>
</div>
</div>


<div id="outline-container-org3ce32a1" class="outline-5">
<h5 id="org3ce32a1"><span class="section-number-5">1.7.2.2</span> Écraser</h5>
<div class="outline-text-5" id="text-1-7-2-2">
<p>
Suivant les options, il est possible que zsh refuse d'écraser un fichier
qui existe déjà. On peut le forcer à le faire par :
</p>

<pre class="example">
/commande/ &gt;! /fichier/
</pre>

<p>
La ligne suivante produit le même résultat :
</p>

<pre class="example">
/commande/ &gt;| /fichier/
</pre>
</div>
</div>


<div id="outline-container-orgddd5cdd" class="outline-5">
<h5 id="orgddd5cdd"><span class="section-number-5">1.7.2.3</span> Créer</h5>
<div class="outline-text-5" id="text-1-7-2-3">
<p>
Si zsh refuse d'écrire en ajout dans un fichier qu'il doit créer,
on peut le forcer à le faire par :
</p>

<pre class="example">
/commande/ &gt;&gt;! /fichier/
</pre>

<p>
La ligne suivante produit le même résultat :
</p>

<pre class="example">
/commande/ &gt;&gt;| /fichier/
</pre>
</div>
</div>
</div>


<div id="outline-container-org5abedd0" class="outline-4">
<h4 id="org5abedd0"><span class="section-number-4">1.7.3</span> Sortie et erreur</h4>
<div class="outline-text-4" id="text-1-7-3">
<p>
On peut demander à une commande d'écrire ses données de sortie
<b>et</b> d'erreur standard dans un fichier :
</p>

<pre class="example">
/commande/ &gt;&amp; /fichier/
</pre>

<p>
La ligne suivante produit le même résultat :
</p>

<pre class="example">
/commande/ &amp;&gt; /fichier/
</pre>

<p>
On peut demander à une commande d'écrire ses données de sortie
<b>et</b> d'erreur standard <b>en ajout</b>
à la fin d'un fichier :
</p>

<pre class="example">
/commande/ &gt;&gt;&amp; /fichier/
</pre>

<p>
La ligne suivante produit le même résultat :
</p>

<pre class="example">
/commande/ &amp;&gt;&gt; /fichier/
</pre>
</div>


<div id="outline-container-orgcb163d4" class="outline-5">
<h5 id="orgcb163d4"><span class="section-number-5">1.7.3.1</span> Écraser</h5>
<div class="outline-text-5" id="text-1-7-3-1">
<p>
Suivant les options, il est possible que zsh refuse d'écraser un fichier
qui existe déjà. On peut le forcer à le faire par :
</p>

<pre class="example">
/commande/ &gt;&amp;! /fichier/
</pre>
</div>
</div>


<div id="outline-container-orgf975f7f" class="outline-5">
<h5 id="orgf975f7f"><span class="section-number-5">1.7.3.2</span> Créer</h5>
<div class="outline-text-5" id="text-1-7-3-2">
<p>
Si zsh refuse d'écrire en ajout dans un fichier qu'il doit créer,
on peut le forcer à le faire par :
</p>

<pre class="example">
/commande/ &gt;&gt;&amp;! /fichier/
</pre>
</div>
</div>
</div>


<div id="outline-container-orgfc390de" class="outline-4">
<h4 id="orgfc390de"><span class="section-number-4">1.7.4</span> Tube</h4>
<div class="outline-text-4" id="text-1-7-4">
<p>
La sortie standard d'une commande peut être redirigée vers
l'entrée standard d'une autre commande, le flux de données passant
de la première à la seconde :
</p>

<pre class="example">
/commande-1/ | /commande-2/
</pre>

<p>
Plusieurs commandes peuvent être chaînées ainsi :
</p>

<pre class="example">
/commande-1/ | /commande-2/ |
/.../ | /commande-N/
</pre>

<p>
Les données passent donc d'une commande à l'autre, un peu comme
l'eau circule dans une canalisation. Cette analogie explique la
dénomination anglaise de « pipe », qui
peut se traduire par « tube ».
</p>
</div>


<div id="outline-container-org12b1700" class="outline-5">
<h5 id="org12b1700"><span class="section-number-5">1.7.4.1</span> Sortie et erreur</h5>
<div class="outline-text-5" id="text-1-7-4-1">
<p>
Le flux agrégé de sortie et d'erreur standard d'une commande
peut être redirigée vers l'entrée standard d'une autre commande :
</p>

<pre class="example">
/commande-1/ |&amp; /commande-2/
</pre>

<p>
Plusieurs commandes peuvent être chaînées ainsi :
</p>

<pre class="example">
/commande-1/ |&amp; /commande-2/ |&amp;
/.../ |&amp; /commande-N/
</pre>
</div>
</div>


<div id="outline-container-orgbca8b8b" class="outline-5">
<h5 id="orgbca8b8b"><span class="section-number-5">1.7.4.2</span> Tube nommé</h5>
<div class="outline-text-5" id="text-1-7-4-2">
<p>
Un tube nommé se crée par :
</p>

<pre class="example">
mknod /tube/ p
</pre>

<p>
ou :
</p>

<pre class="example">
mkfifo /tube/
</pre>

<p>
La suite de commandes :
</p>

<pre class="example">
/commande-1/ &gt; /tube/ &amp;
/commande-2/ &lt; /tube/
</pre>

<p>
est alors équivalente à :
</p>

<pre class="example">
/commande-1/ | /commande-2/
</pre>

<p>
Remarquons que la première commande ne peut pas s'exécuter tant
que la seconde ne va pas lire dans le tube nommé.
</p>
</div>
</div>
</div>


<div id="outline-container-orgca60339" class="outline-4">
<h4 id="orgca60339"><span class="section-number-4">1.7.5</span> Arguments</h4>
<div class="outline-text-4" id="text-1-7-5">
</div>
<div id="outline-container-org8acaa07" class="outline-5">
<h5 id="org8acaa07"><span class="section-number-5">1.7.5.1</span> Sortie d'une commande</h5>
<div class="outline-text-5" id="text-1-7-5-1">
<p>
Lorsqu'une commande <i>commande-1</i> accepte des
arguments, il est possible de lui indiquer que ceux-ci proviennent
de la sortie d'une autre commande. Supposons que la sortie de
<i>commande-2</i> soit :
</p>

<pre class="example">
/arg1 arg2 arg3 .../
</pre>

<p>
La ligne de commande :
</p>

<pre class="example">
/commande-1/ $(/commande-2/)
</pre>

<p>
est équivalente à :
</p>

<pre class="example">
/commande-1/ /arg1 arg2 arg3 .../
</pre>
</div>
</div>


<div id="outline-container-orgea5ef26" class="outline-5">
<h5 id="orgea5ef26"><span class="section-number-5">1.7.5.2</span> Fichier contenant des arguments</h5>
<div class="outline-text-5" id="text-1-7-5-2">
<p>
Lorsqu'une commande <i>commande-1</i> accepte des
arguments, il est possible de lui indiquer que ceux-ci sont contenus
dans un fichier. Supposons que <i>fichier</i> contienne :
</p>

<pre class="example">
/arg1 arg2 arg3 .../
</pre>

<p>
La ligne de commande :
</p>

<pre class="example">
/commande-1/ $(&lt;/fichier/)
</pre>

<p>
est équivalente à :
</p>

<pre class="example">
/commande-1/ /arg1 arg2 arg3 .../
</pre>
</div>
</div>


<div id="outline-container-org4c349a9" class="outline-5">
<h5 id="org4c349a9"><span class="section-number-5">1.7.5.3</span> Fichier virtuel en entrée</h5>
<div class="outline-text-5" id="text-1-7-5-3">
<p>
Lorsqu'une commande <i>commande-1</i>
accepte un fichier en argument, il est possible de remplacer le
contenu de ce fichier par la sortie standard d'une commande &lt;span
class="rouge"&gt;commande-2/. On utilise alors la notation :
</p>

<pre class="example">
/commande-1/ &lt;(/commande-2/)
</pre>

<p>
Lorsqu'une commande accepte plusieurs fichiers en arguments,
on a la notation :
</p>

<pre class="example">
/commande-1/ &lt;(/commande-2/) /.../ &lt;(/commande-N/)
</pre>
</div>


<div id="outline-container-org9190678" class="outline-6">
<h6 id="org9190678"><span class="section-number-6">1.7.5.3.1</span> Fichier temporaire</h6>
<div class="outline-text-6" id="text-1-7-5-3-1">
<p>
La forme :
</p>

<pre class="example">
/commande-1/ =(/commande-2/)
</pre>

<p>
est équivalente à :
</p>

<pre class="example">
/commande-1/ &lt;(/commande-2/)
</pre>

<p>
mais utilise un fichier temporaire au lieu d'un tube nommé, ce qui
est plus lent mais permet plus de possibilités en lecture.
</p>
</div>
</div>
</div>


<div id="outline-container-org1a26c23" class="outline-5">
<h5 id="org1a26c23"><span class="section-number-5">1.7.5.4</span> Processus en sortie</h5>
<div class="outline-text-5" id="text-1-7-5-4">
<p>
Il est possible d’envoyer la sortie d’une commande
<i>commande</i> vers l’entrée standard d’un
processus <i>commande-2</i>.
On utilise alors la notation :
</p>

<pre class="example">
/commande/ &gt; &gt;(/processus/)
</pre>

<p>
Lorsque la commande écrit dans le fichier qu’elle reçoit en argument,
on a la forme plus simple :
</p>

<pre class="example">
/commande/ &gt;(/processus/)
</pre>
</div>
</div>
</div>


<div id="outline-container-org5e9c55f" class="outline-4">
<h4 id="org5e9c55f"><span class="section-number-4">1.7.6</span> Codes et canaux</h4>
<div class="outline-text-4" id="text-1-7-6">
<p>
Les canaux d'entrée et de sortie par défaut ont des codes :
</p>
<ul class="org-ul">
<li>0 : entrée standard</li>
<li>1 : sortie standard</li>
<li>2 : erreur standard</li>
</ul>

<p>
Les autres canaux (de 3 à 9) sont des canaux auxiliaires.
</p>
</div>


<div id="outline-container-orgc5be98d" class="outline-5">
<h5 id="orgc5be98d"><span class="section-number-5">1.7.6.1</span> Redirection d'un canal</h5>
<div class="outline-text-5" id="text-1-7-6-1">
<p>
Il est possible de se servir de ces codes pour rediriger un de ces
canaux vers un fichier :
</p>

<pre class="example">
/commande/ /canal/&gt; /fichier/
</pre>

<p>
Ainsi, la ligne :
</p>

<pre class="example">
/commande/ 1&gt; /fichier/
</pre>

<p>
redirige l'entrée standard vers le fichier. Elle est donc équivalente
à :
</p>

<pre class="example">
/commande/ &gt; /fichier/
</pre>

<p>
La ligne :
</p>

<pre class="example">
/commande/ 2&gt; /fichier/
</pre>

<p>
redirige l'erreur standard vers le fichier.
</p>
</div>
</div>


<div id="outline-container-org4111ce2" class="outline-5">
<h5 id="org4111ce2"><span class="section-number-5">1.7.6.2</span> Redirection d'un canal vers un autre</h5>
<div class="outline-text-5" id="text-1-7-6-2">
<p>
Il est également possible de rediriger un de ces canaux vers un autre
au moyen de la syntaxe :
</p>

<pre class="example">
/canal-1/&gt;&amp;/canal-2/
</pre>

<p>
pour un canal de sortie ou :
</p>

<pre class="example">
/canal-1/&lt;&amp;/canal-2/
</pre>

<p>
pour un canal d’entrée. Ainsi, la ligne :
</p>

<pre class="example">
/commande/ &gt; /fichier/ 2&gt;&amp;1
</pre>

<p>
redirige la sortie vers le fichier, puis l'erreur vers la sortie.
Les deux flux sont donc agrégés, et la commande est équivalente à :
</p>

<pre class="example">
/commande/ &gt;&amp; /fichier/
</pre>

<p>
La ligne :
</p>

<pre class="example">
/commande-1/ 2&gt;&amp;1 | /commande-2/
</pre>

<p>
agrège sortie et erreur avant de les envoyer dans le tube. Elle est
donc équivalente à :
</p>

<pre class="example">
/commande-1/ |&amp; /commande-2/
</pre>
</div>


<div id="outline-container-org24027ec" class="outline-6">
<h6 id="org24027ec"><span class="section-number-6">1.7.6.2.1</span> Par défaut</h6>
<div class="outline-text-6" id="text-1-7-6-2-1">
<p>
La notation :
</p>

<pre class="example">
&gt;&amp;/canal/
</pre>

<p>
est un raccourci pour :
</p>

<pre class="example">
1&gt;&amp;/canal/
</pre>
</div>
</div>
</div>


<div id="outline-container-orgaee1d24" class="outline-5">
<h5 id="orgaee1d24"><span class="section-number-5">1.7.6.3</span> Fermeture d'un canal</h5>
<div class="outline-text-5" id="text-1-7-6-3">
<p>
On ferme un canal de sortie par l'instruction :
</p>

<pre class="example">
/canal/&gt;&amp;-
</pre>

<p>
On ferme un canal d’entrée par l'instruction :
</p>

<pre class="example">
/canal/&lt;&amp;-
</pre>
</div>
</div>


<div id="outline-container-orga421a8b" class="outline-5">
<h5 id="orga421a8b"><span class="section-number-5">1.7.6.4</span> Exec</h5>
<div class="outline-text-5" id="text-1-7-6-4">
<p>
La commande <b>exec</b> permet de rediriger un canal jusqu'à
instruction contraire. Par exemple, l'instruction suivante conserve
l'ancienne sortie dans le canal auxiliaire 3 :
</p>

<pre class="example">
exec 3&gt;&amp;1
</pre>

<p>
On peut à présent rediriger la sortie vers un fichier :
</p>

<pre class="example">
exec &gt;&gt;| /fichier/
</pre>

<p>
On peut alors exécuter plusieurs commandes, leurs sorties seront redirigées vers le fichier.
La commande :
</p>

<pre class="example">
exec 1&gt;&amp;3
</pre>

<p>
revient à la sortie antérieure et l'instruction :
</p>

<pre class="example">
exec 3&gt;&amp;-
</pre>

<p>
ferme le canal auxiliaire.
</p>
</div>
</div>
</div>


<div id="outline-container-org5ea6aa8" class="outline-4">
<h4 id="org5ea6aa8"><span class="section-number-4">1.7.7</span> Modification</h4>
<div class="outline-text-4" id="text-1-7-7">
<p>
La commande suivante :
</p>

<pre class="example">
/commande/ &lt;&gt; /fichier/
</pre>

<p>
ouvre le fichier en lecture et en écriture tout en redirigeant
l'entrée vers le fichier. Lorsqu'on la combine avec une redirection de
la sortie standard vers l'entrée, la commande va lire et écrire ses
données dans le même fichier :
</p>

<pre class="example">
/commande/ &lt;&gt; /fichier/ 1&gt;&amp;0
</pre>
</div>
</div>


<div id="outline-container-orgf69c98f" class="outline-4">
<h4 id="orgf69c98f"><span class="section-number-4">1.7.8</span> Multios</h4>
<div class="outline-text-4" id="text-1-7-8">
<p>
Un <b>multios</b> est une redirection multiple.
</p>

<p>
On peut rediriger l'entrée vers plusieurs fichiers :
</p>

<pre class="example">
/commande/
 &lt; /fichier-1/
 &lt; /fichier-2/
</pre>

<p>
Les fichiers sont lus dans l'ordre de leur apparition.
</p>

<p>
On peut rediriger la sortie vers plusieurs fichiers :
</p>

<pre class="example">
/commande/
 &gt; /fichier-1/
 &gt; /fichier-2/
</pre>

<p>
La sortie est alors écrite dans chaque fichier vers lequel on redirige.
</p>

<p>
On peut combiner entrée et pipe. La ligne suivante demande à la seconde
commande de lire ses données dans la sortie de la première commande, puis
dans le fichier :
</p>

<pre class="example">
/commande-1/ | /commande-2/
	 &lt; /fichier/
</pre>

<p>
On peut combiner sortie et pipe. La ligne suivante demande à la première
commande d'écrire ses données dans le fichier et de les envoyer à l'entrée
de la seconde commande :
</p>

<pre class="example">
/commande-1/ &gt; /fichier/ |
/commande-2/
</pre>
</div>
</div>


<div id="outline-container-orgd8134b5" class="outline-4">
<h4 id="orgd8134b5"><span class="section-number-4">1.7.9</span> Lecture et écriture</h4>
<div class="outline-text-4" id="text-1-7-9">
</div>
<div id="outline-container-orgdff02ec" class="outline-5">
<h5 id="orgdff02ec"><span class="section-number-5">1.7.9.1</span> Cat</h5>
<div class="outline-text-5" id="text-1-7-9-1">
<p>
Cette section décrit quelques commandes de base permettant de lire et d'écrire.
</p>

<p>
La commande « cat » lit du texte dans un fichier
ou plusieurs fichiers passés en argument  :
</p>

<pre class="example">
cat /fichier(s)-entrée/
</pre>

<p>
et l'affiche à la sortie standard.
</p>

<p>
Si aucun argument n'est donné, le texte est lu à l'entrée standard
et affiché à la sortie standard. Par exemple, pour insérer du texte
dans un fichier, on peut utiliser la commande :
</p>

<pre class="example">
cat &gt; /fichier-sortie/
</pre>

<p>
Le texte est ensuite lu via l'entrée standard. On signale
la fin de l'entrée en utilisant le caractère de fin de fichier
« ctrl d ».
</p>
</div>
</div>


<div id="outline-container-orgcf869f4" class="outline-5">
<h5 id="orgcf869f4"><span class="section-number-5">1.7.9.2</span> Print</h5>
<div class="outline-text-5" id="text-1-7-9-2">
<p>
La commande « print » affiche à l'entrée
standard une simple chaîne de caractère ou plus généralement une
expression interprétable par le shell :
</p>

<pre class="example">
print &amp;quot;/chaîne/&amp;quot;
print /expression/
</pre>
</div>


<div id="outline-container-org866bb3c" class="outline-6">
<h6 id="org866bb3c"><span class="section-number-6">1.7.9.2.1</span> Lignes</h6>
<div class="outline-text-6" id="text-1-7-9-2-1">
<p>
Pour afficher du texte à raison d'un mot par ligne on utilise la variante :
</p>

<pre class="example">
print -l /expression/
</pre>
</div>
</div>


<div id="outline-container-org8df016c" class="outline-6">
<h6 id="org8df016c"><span class="section-number-6">1.7.9.2.2</span> Colonnes</h6>
<div class="outline-text-6" id="text-1-7-9-2-2">
<p>
Pour afficher du texte disposé en colonnes on utilise la variante :
</p>

<pre class="example">
print -c /expression/
</pre>
</div>
</div>
</div>


<div id="outline-container-orgc71f3aa" class="outline-5">
<h5 id="orgc71f3aa"><span class="section-number-5">1.7.9.3</span> Echo</h5>
<div class="outline-text-5" id="text-1-7-9-3">
<p>
La commande « echo » est similaire à
« print » :
</p>

<pre class="example">
echo /expression/
</pre>
</div>
</div>


<div id="outline-container-org1265f4c" class="outline-5">
<h5 id="org1265f4c"><span class="section-number-5">1.7.9.4</span> Tee</h5>
<div class="outline-text-5" id="text-1-7-9-4">
<p>
La commande <b>tee</b> recopie son entrée standard
sur sa sortie standard et dans un fichier. Cette commande est au tube
ce que le « T » est au réseau de canalisations.
Par exemple, dans cette structure :
</p>

<pre class="example">
/commande-1/ |
tee /fichier/ |
/commande-2/
</pre>

<p>
la sortie de <i>commande-1</i> est envoyée vers tee.
Tee la recopie dans le fichier et la passe à
<i>commande-2</i>. On aurait pu obtenir le même résultat
avec :
</p>

<pre class="example">
/commande-1/ &gt; /fichier/ |
/commande-2/
</pre>
</div>


<div id="outline-container-org4621208" class="outline-6">
<h6 id="org4621208"><span class="section-number-6">1.7.9.4.1</span> Plusieurs fichiers</h6>
<div class="outline-text-6" id="text-1-7-9-4-1">
<p>
On peut passer autant de fichiers que l'on veut en argument à
*tee* : celui-ci va alors recopier l'entrée
standard dans tous les fichiers donnés avant de l'envoyer vers la
sortie standard :
</p>

<pre class="example">
/commande-1/ |
tee /fichier-1/ /.../ /fichier-N/ |
/commande-2/
</pre>
</div>
</div>
</div>
</div>
</div>


<div id="outline-container-org7017612" class="outline-3">
<h3 id="org7017612"><span class="section-number-3">1.8</span> Variables</h3>
<div class="outline-text-3" id="text-1-8">
<p>
Une variable est un objet contenant une valeur.
</p>
</div>


<div id="outline-container-org61c26e8" class="outline-4">
<h4 id="org61c26e8"><span class="section-number-4">1.8.1</span> Déclaration</h4>
<div class="outline-text-4" id="text-1-8-1">
<p>
On peut déclarer une variable par :
</p>

<pre class="example">
typeset /variable/
</pre>

<p>
L'instruction <b>unset</b> permet de donner
un statut indéfini à une variable :
</p>

<pre class="example">
unset /variable/
</pre>
</div>
</div>


<div id="outline-container-orge61c529" class="outline-4">
<h4 id="orge61c529"><span class="section-number-4">1.8.2</span> Valeur</h4>
<div class="outline-text-4" id="text-1-8-2">
<p>
L'instruction :
</p>

<pre class="example">
/variable/=/valeur/
</pre>

<p>
définit ou modifie la valeur contenue dans une variable. L'accès
au contenu de cette variable se fait via la syntaxe :
</p>

<pre class="example">
$/variable/
</pre>

<p>
Il peut être souhaitable de délimiter clairement
le nom d'une variable, surtout si celle-ci est entourée
de texte. On utilise alors des accolades :
</p>

<pre class="example">
${/variable/}
</pre>
</div>
</div>


<div id="outline-container-orgfc8d39e" class="outline-4">
<h4 id="orgfc8d39e"><span class="section-number-4">1.8.3</span> Guillemets</h4>
<div class="outline-text-4" id="text-1-8-3">
<p>
Supposons que :
</p>

<pre class="example">
/variable/=/contenu/
</pre>

<p>
On souhaite que l'expression :
</p>

<pre class="example">
/abc/ $/variable/ /xyz/
</pre>

<p>
soit considérée comme un seul mot malgré les espaces. On est alors
tenté d'utiliser les guillemets simples :
</p>

<pre class="example">
print '/abc/ $/variable/ /xyz/'
</pre>

<p>
mais il faut savoir que cette méthode annule l'effet de tous les
caractères magiques et donc des « $ ». La commande
précédente affichera donc littéralement :
</p>

<pre class="example">
/abc/ $/variable/ /xyz/
</pre>

<p>
Si on souhaite afficher le contenu de la variable, on utilisera les
guillemets doubles. La commande : :
</p>

<pre class="example">
print &amp;quot;/abc/ $/variable/ /xyz/&amp;quot;
</pre>

<p>
remplacera la variable par son contenu avant d'afficher :
</p>

<pre class="example">
/abc/ /contenu/ /xyz/
</pre>
</div>
</div>


<div id="outline-container-org78f562a" class="outline-4">
<h4 id="org78f562a"><span class="section-number-4">1.8.4</span> Éclatement en plusieurs mots</h4>
<div class="outline-text-4" id="text-1-8-4">
<p>
Une variable contenant des espaces, du type :
</p>

<pre class="example">
/variable/=&amp;quot;/abc/ /def/ /.../ /uvw/&amp;quot;
</pre>

<p>
est considérée comme un seul mot à cause des guillemets doubles,
d'ailleurs nécessaires à la définition. On peut cependant demander
au shell de considérer le contenu de la variable comme une liste de
mots. On utilise alors la syntaxe :
</p>

<pre class="example">
${=/variable/}
</pre>

<p>
Lorsque le séparateur n'est pas un espace, on peut le signaler
par :
</p>

<pre class="example">
${(s//séparateur//)/variable/}
</pre>
</div>
</div>


<div id="outline-container-org51c6023" class="outline-4">
<h4 id="org51c6023"><span class="section-number-4">1.8.5</span> Lecture et écriture</h4>
<div class="outline-text-4" id="text-1-8-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">read <i>variable</i></td>
<td class="org-left">Lit une variable sur l'entrée standard</td>
</tr>

<tr>
<td class="org-left">print $/variable/</td>
<td class="org-left">Affiche le contenu d'une variable sur la sortie standard</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgcead25c" class="outline-4">
<h4 id="orgcead25c"><span class="section-number-4">1.8.6</span> Redirections</h4>
<div class="outline-text-4" id="text-1-8-6">
</div>
<div id="outline-container-org326eb55" class="outline-5">
<h5 id="org326eb55"><span class="section-number-5">1.8.6.1</span> Sortie d'une commande</h5>
<div class="outline-text-5" id="text-1-8-6-1">
<p>
Il est possible de placer la sortie d'une commande dans une variable
via la syntaxe :
</p>

<pre class="example">
/variable/=$(/commande/)
</pre>

<p>
ou la forme alternative :
</p>

<pre class="example">
/variable/=`/commande/`
</pre>
</div>
</div>


<div id="outline-container-orgd7945bc" class="outline-5">
<h5 id="orgd7945bc"><span class="section-number-5">1.8.6.2</span> Contenu d'un fichier</h5>
<div class="outline-text-5" id="text-1-8-6-2">
<p>
Il est possible de placer le contenu d'un fichier dans une variable
via la syntaxe :
</p>

<pre class="example">
/variable/=$(&lt; /fichier/)
</pre>

<p>
Cette commande est équivalente à :
</p>

<pre class="example">
/variable/=$(cat /fichier/)
</pre>

<p>
mais en plus rapide.
</p>
</div>
</div>
</div>


<div id="outline-container-org5b6ef16" class="outline-4">
<h4 id="org5b6ef16"><span class="section-number-4">1.8.7</span> Référence</h4>
<div class="outline-text-4" id="text-1-8-7">
<p>
On dit qu'une variable en référence une autre lorsqu'elle contient
le nom d'une autre variable. La syntaxe :
</p>

<pre class="example">
${(P)/variable/}
</pre>

<p>
s'évalue au contenu de la variable que contient
<i>variable</i>. Pour y voir plus clair,
supposons que :
</p>

<pre class="example">
/variable_cible/=/contenu/
/variable_référence/=/variable_cible/
</pre>

<p>
La commande :
</p>

<pre class="example">
print $/variable_référence/
</pre>

<p>
affiche le texte :
</p>

<pre class="example">
/variable_cible/
</pre>

<p>
tandis que  :
</p>

<pre class="example">
print ${(P)/variable/}
</pre>

<p>
affiche le texte :
</p>

<pre class="example">
/contenu/
</pre>
</div>
</div>


<div id="outline-container-orge33f5e2" class="outline-4">
<h4 id="orge33f5e2"><span class="section-number-4">1.8.8</span> Évaluation</h4>
<div class="outline-text-4" id="text-1-8-8">
<p>
Par défaut, le shell n'interprète qu'une seule fois les motifs magiques
d'une ligne de commande. Donc, si :
</p>

<pre class="example">
/variable/=/contenu/
</pre>

<p>
La syntaxe :
</p>

<pre class="example">
$/variable/
</pre>

<p>
sera simplement transformée en :
</p>

<pre class="example">
/contenu/
</pre>

<p>
sans étape suplémentaire, et ce, même si le contenu de la variable
contient des motifs réinterprétables. Il est cependant possible de
demander au shell de réinterpréter le contenu de la variable. Cela se
fait au moyen de la syntaxe :
</p>

<pre class="example">
${(e)/variable/}
</pre>

<p>
Par exemple, si :
</p>

<pre class="example">
/variable_cible/=/contenu/
/variable/='$/variable_cible/'
</pre>

<p>
la commande :
</p>

<pre class="example">
print $/variable/
</pre>

<p>
affichera :
</p>

<pre class="example">
$/variable_cible/
</pre>

<p>
tandis que :
</p>

<pre class="example">
print ${(e)/variable/}
</pre>

<p>
affichera :
</p>

<pre class="example">
/contenu/
</pre>
</div>
</div>


<div id="outline-container-org2d194df" class="outline-4">
<h4 id="org2d194df"><span class="section-number-4">1.8.9</span> Expressions mathématiques</h4>
<div class="outline-text-4" id="text-1-8-9">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>variable/=$[ /expression</i> ]</td>
<td class="org-left">La variable contient le résultat  d'une expression mathématique</td>
</tr>

<tr>
<td class="org-left"><i>variable/=$(( /expression</i> ))</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org517f081" class="outline-4">
<h4 id="org517f081"><span class="section-number-4">1.8.10</span> Base</h4>
<div class="outline-text-4" id="text-1-8-10">
<p>
La commande :
</p>

<pre class="example">
print $(( [#/base/] /variable/ ))
</pre>

<p>
exprime la valeur numérique contenue dans <i>variable</i> dans
la base <i>base</i>.
</p>
</div>
</div>


<div id="outline-container-orgc62ab21" class="outline-4">
<h4 id="orgc62ab21"><span class="section-number-4">1.8.11</span> Substitutions</h4>
<div class="outline-text-4" id="text-1-8-11">
<p>
Une substitution remplace la première occurence d'un motif par une chaîne donnée.
</p>

<p>
Une substitution globale remplace toutes les occurences d'un motif par une chaîne donnée.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">${<i>variable///avant///après</i>}</td>
<td class="org-left">La première occurence d'<i>avant</i>  est remplacée par <i>après</i></td>
</tr>

<tr>
<td class="org-left">${<i>variable////avant///après</i>}</td>
<td class="org-left">Toutes les occurences d'<i>avant</i>  sont remplacées par <i>après</i></td>
</tr>

<tr>
<td class="org-left">${(I:/N/:)/variable///avant///après/}</td>
<td class="org-left">Comme ${&#x2026;/&#x2026;/&#x2026;} mais remplace  la /N/&lt;sup&gt;ième&lt;/sup&gt; correspondance</td>
</tr>

<tr>
<td class="org-left">${(I:/N/:)/variable////avant///après/}</td>
<td class="org-left">Comme ${&#x2026;//&#x2026;/&#x2026;} mais remplace à partir  de la /N/&lt;sup&gt;ième&lt;/sup&gt; correspondance</td>
</tr>

<tr>
<td class="org-left">${(S)/variable///avant///après/}</td>
<td class="org-left">Comme ${&#x2026;/&#x2026;/&#x2026;} mais remplace la correspondance  la plus courte possible au lieu de la plus longue</td>
</tr>

<tr>
<td class="org-left">${(S)/variable////avant///après/}</td>
<td class="org-left">Comme ${&#x2026;//&#x2026;/&#x2026;} mais remplace les correspondances  les plus courtes possible</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgd33c600" class="outline-4">
<h4 id="orgd33c600"><span class="section-number-4">1.8.12</span> Suppressions</h4>
<div class="outline-text-4" id="text-1-8-12">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">${<i>variable/#/motif</i>}</td>
<td class="org-left">Enlève la plus petite correspondance au début</td>
</tr>

<tr>
<td class="org-left">${<i>variable/##/motif</i>}</td>
<td class="org-left">Enlève la plus grande correspondance au début</td>
</tr>

<tr>
<td class="org-left">${<i>variable/%/motif</i>}</td>
<td class="org-left">Enlève la plus petite correspondance à la fin</td>
</tr>

<tr>
<td class="org-left">${<i>variable/%%/motif</i>}</td>
<td class="org-left">Enlève la plus grande correspondance à la fin</td>
</tr>
</tbody>
</table>

<p>
On peut utiliser des fanions afin de demander d'afficher la partie
supprimée ou la partie restante :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">${(M)/variable/#/motif/}</td>
<td class="org-left">Montre la partie enlevée</td>
</tr>

<tr>
<td class="org-left">${(M)/variable/##/motif/}</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">${(M)/variable/%/motif/}</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">${(M)/variable/%%/motif/}</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">${(R)/variable/#/motif/}</td>
<td class="org-left">Montre la partie restante</td>
</tr>

<tr>
<td class="org-left">${(R)/variable/##/motif/}</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">${(R)/variable/%/motif/}</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">${(R)/variable/%%/motif/}</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
La forme en (R) est en général inutile, puisqu'elle correspond au
cas par défaut, mais peut être utile dans certains cas.
</p>
</div>
</div>


<div id="outline-container-org8f7974d" class="outline-4">
<h4 id="org8f7974d"><span class="section-number-4">1.8.13</span> Valeur alternative</h4>
<div class="outline-text-4" id="text-1-8-13">
<p>
Certaines expressions permettent de spécifier une valeur alternative
si la variable est vide ou non définie.
</p>
</div>


<div id="outline-container-org03312a8" class="outline-5">
<h5 id="org03312a8"><span class="section-number-5">1.8.13.1</span> Variable indéfinie</h5>
<div class="outline-text-5" id="text-1-8-13-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">${<i>variable</i>-<i>valeur</i>}</td>
<td class="org-left">Valeur contenue dans la variable 		ou <i>valeur</i> si la variable  n'est pas définie</td>
</tr>

<tr>
<td class="org-left">${<i>variable/=/valeur</i>}</td>
<td class="org-left">Comme ${&#x2026;-&#x2026;} mais assigne la  valeur à la variable</td>
</tr>

<tr>
<td class="org-left">${<i>variable</i>?}</td>
<td class="org-left">Provoque une erreur si la variable  n'est pas définie</td>
</tr>

<tr>
<td class="org-left">${<i>variable</i>?"<i>message</i>"}</td>
<td class="org-left">Comme ${&#x2026;?} mais avec  un message d'erreur personnalisé</td>
</tr>

<tr>
<td class="org-left">${<i>variable/+/valeur</i>}</td>
<td class="org-left">Donne <i>valeur</i> si la variable  est définie</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org6521a14" class="outline-5">
<h5 id="org6521a14"><span class="section-number-5">1.8.13.2</span> Variable vide ou indéfinie</h5>
<div class="outline-text-5" id="text-1-8-13-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">${<i>variable</i>:-<i>valeur</i>}</td>
<td class="org-left">Valeur contenue dans la variable 		ou <i>valeur</i> si la variable  est vide ou n'est pas définie</td>
</tr>

<tr>
<td class="org-left">${<i>variable</i>:=/valeur/}</td>
<td class="org-left">Comme ${&#x2026;:-&#x2026;} mais assigne la  valeur à la variable</td>
</tr>

<tr>
<td class="org-left">${<i>variable</i>:?}</td>
<td class="org-left">Provoque une erreur si la variable  est vide ou n'est pas définie</td>
</tr>

<tr>
<td class="org-left">${<i>variable</i>:?"<i>message</i>"}</td>
<td class="org-left">Comme ${&#x2026;:?} mais avec  un message d'erreur personnalisé</td>
</tr>

<tr>
<td class="org-left">${<i>variable</i>:+/valeur/}</td>
<td class="org-left">Donne <i>valeur</i> si la variable  n'est pas vide</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org01a4e49" class="outline-4">
<h4 id="org01a4e49"><span class="section-number-4">1.8.14</span> Casse</h4>
<div class="outline-text-4" id="text-1-8-14">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">${(L)/variable/}</td>
<td class="org-left">Tous les caractères en minuscules</td>
</tr>

<tr>
<td class="org-left">${(U)/variable/}</td>
<td class="org-left">Tous les caractères en majuscules</td>
</tr>

<tr>
<td class="org-left">${(C)/variable/}</td>
<td class="org-left">La première lettre de chaque mot  en majuscules, le reste en minuscules</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgf93ed01" class="outline-4">
<h4 id="orgf93ed01"><span class="section-number-4">1.8.15</span> Forme littérale</h4>
<div class="outline-text-4" id="text-1-8-15">
<p>
Il est possible d'annuler l'effet magique de cartains caractères contenus dans une variable.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">${(q)/variable/}</td>
<td class="org-left">Méthode \caractère</td>
</tr>

<tr>
<td class="org-left">${(qq)/variable/}</td>
<td class="org-left">Méthode guillemets simples : '&#x2026;'</td>
</tr>

<tr>
<td class="org-left">${(qqq)/variable/}</td>
<td class="org-left">Méthode guillemets doubles : &amp;quot;&#x2026;&amp;quot;</td>
</tr>

<tr>
<td class="org-left">${(Q)/variable/}</td>
<td class="org-left">Rétablit l'effet magique</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-orge72e2f4" class="outline-3">
<h3 id="orge72e2f4"><span class="section-number-3">1.9</span> Globalisation</h3>
<div class="outline-text-3" id="text-1-9">
<p>
La globalisation (ou globbing en anglais) est une expression permettant
de générer une liste de noms de fichiers correspondant à un motif donné. Par
exemple, le caractère joker « * » génère la
liste de tous les fichiers du répertoire courant. On peut afficher cette
liste au moyen de la commande « print » :
</p>

<pre class="example">
print *
</pre>

<p>
Les fichiers sont entendus au sens large : répertoires, liens,
etc sont également considérés comme des fichiers. Voici les motifs
les plus courants :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">*</td>
<td class="org-left">N'importe quelle chaîne de caractères</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">?</td>
<td class="org-left">N'importe quel caractère</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">[/groupeDeCaractère/]</td>
<td class="org-left">N'importe quel caractère du groupe</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&lt;/M/-/N/&gt;</td>
<td class="org-left">N'importe quel nombre entier entre <i>M</i> et <i>N</i></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">(<i>chaine-1</i></td>
<td class="org-left"><i>chaine-2</i>)</td>
<td class="org-left"><i>chaine-1</i> ou <i>chaine-2</i></td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-org787f552" class="outline-4">
<h4 id="org787f552"><span class="section-number-4">1.9.1</span> Récursif</h4>
<div class="outline-text-4" id="text-1-9-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">**</td>
<td class="org-left">Comme * mais récursif dans les répertoires</td>
</tr>

<tr>
<td class="org-left"><b>*/</b></td>
<td class="org-left">Tous les fichiers du répertoire courant et de ses sous-répertoires</td>
</tr>
</tbody>
</table>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><b>*/*/chaine/</b></td>
<td class="org-left">Tous les fichiers contenant <i>chaine</i>  dans les sous-répertoires du répertoire courant</td>
</tr>

<tr>
<td class="org-left"><b>*</b></td>
<td class="org-left">Comme ** mais suit les liens symboliques</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org3da1abf" class="outline-4">
<h4 id="org3da1abf"><span class="section-number-4">1.9.2</span> Étendus</h4>
<div class="outline-text-4" id="text-1-9-2">
<p>
Si on active l'option :
</p>

<pre class="example">
setopt extendedglob
</pre>

<p>
on dispose en plus des motifs de globbing suivant :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">^*/chaine/*</td>
<td class="org-left">Tous les fichiers sauf ceux contenant <i>chaine</i></td>
</tr>

<tr>
<td class="org-left"><i>globe-1/~/globe-2</i></td>
<td class="org-left">Les fichiers correspondant au globbing   <i>globe-1</i> mais pas à <i>globe-2</i></td>
</tr>

<tr>
<td class="org-left">(<i>chaine</i>)#</td>
<td class="org-left">Un nombre quelconque de fois la <i>chaine</i>  (de zéro à l'infini)</td>
</tr>

<tr>
<td class="org-left">(<i>chaine</i>)##</td>
<td class="org-left">Au moins une fois la <i>chaine</i></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgb26f5a1" class="outline-4">
<h4 id="orgb26f5a1"><span class="section-number-4">1.9.3</span> Qualificateurs</h4>
<div class="outline-text-4" id="text-1-9-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">/globe/([/N/])</td>
<td class="org-left">/N/&lt;sup&gt;ième&lt;/sup&gt; fichier généré</td>
</tr>

<tr>
<td class="org-left"><i>globe/([/M</i>,/N/])</td>
<td class="org-left">Du /M/&lt;sup&gt;iène&lt;/sup&gt;au /N/&lt;sup&gt;ième&lt;/sup&gt; fichier généré</td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-orgfbc435e" class="outline-5">
<h5 id="orgfbc435e"><span class="section-number-5">1.9.3.1</span> Fichiers standard</h5>
<div class="outline-text-5" id="text-1-9-3-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">/globe/(.)</td>
<td class="org-left">Tous les fichiers réguliers correspondant  au globbing <i>globe</i></td>
</tr>

<tr>
<td class="org-left">/globe/(D)</td>
<td class="org-left">Tous les fichiers réguliers, 		y compris les fichiers cachés,  correspondant au globbing</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org263ea40" class="outline-5">
<h5 id="org263ea40"><span class="section-number-5">1.9.3.2</span> Répertoire</h5>
<div class="outline-text-5" id="text-1-9-3-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>globe/(</i>)</td>
<td class="org-left">Répertoires</td>
</tr>

<tr>
<td class="org-left">/globe/(F)</td>
<td class="org-left">Répertoires non vides</td>
</tr>

<tr>
<td class="org-left">/globe/(/<sup>F</sup>)</td>
<td class="org-left">Répertoires vides</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org29496af" class="outline-5">
<h5 id="org29496af"><span class="section-number-5">1.9.3.3</span> Liens</h5>
<div class="outline-text-5" id="text-1-9-3-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">/globe/(@)</td>
<td class="org-left">Liens symboliques</td>
</tr>

<tr>
<td class="org-left">/globe/(-.)</td>
<td class="org-left">Fichiers ou liens vers des fichiers</td>
</tr>

<tr>
<td class="org-left"><i>globe/(-</i>)</td>
<td class="org-left">Répertoires ou liens vers des répertoires</td>
</tr>

<tr>
<td class="org-left">/globe/(@-.)</td>
<td class="org-left">Liens vers des fichiers standard</td>
</tr>

<tr>
<td class="org-left"><i>globe/(@-</i>)</td>
<td class="org-left">Liens vers des répertoires</td>
</tr>

<tr>
<td class="org-left">/globe/(-@)</td>
<td class="org-left">Liens cassés</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgdd626db" class="outline-5">
<h5 id="orgdd626db"><span class="section-number-5">1.9.3.4</span> Propriétaire</h5>
<div class="outline-text-5" id="text-1-9-3-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">/globe/(U)</td>
<td class="org-left">Fichiers dont on est propriétaire</td>
</tr>

<tr>
<td class="org-left">/globe/(G)</td>
<td class="org-left">Fichiers dont on le groupe est le même  que le groupe par défaut du propriétaire</td>
</tr>

<tr>
<td class="org-left"><i>globe/(u:/propriétaire</i>:)</td>
<td class="org-left">Fichiers dont le propriétaire est donné</td>
</tr>

<tr>
<td class="org-left"><i>globe/(g:/groupe</i>:)</td>
<td class="org-left">Fichiers dont le groupe est donné</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orge80b358" class="outline-5">
<h5 id="orge80b358"><span class="section-number-5">1.9.3.5</span> Permissions</h5>
<div class="outline-text-5" id="text-1-9-3-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>globe/(f:/permissions</i>:)</td>
<td class="org-left">Fichiers respectant la liste de permissions  donnée sous la forme u+wx,g+w,o-w</td>
</tr>

<tr>
<td class="org-left">/globe/(r)</td>
<td class="org-left">Fichiers lisibles par le propriétaire</td>
</tr>

<tr>
<td class="org-left">/globe/(w)</td>
<td class="org-left">Fichiers modifiables par le propriétaire</td>
</tr>

<tr>
<td class="org-left">/globe/(x)</td>
<td class="org-left">Fichiers exécutables par le propriétaire, répertoires inclus</td>
</tr>

<tr>
<td class="org-left">/globe/(R)</td>
<td class="org-left">Fichiers lisibles par tous</td>
</tr>

<tr>
<td class="org-left">/globe/(W)</td>
<td class="org-left">Fichiers modifiables par tous</td>
</tr>

<tr>
<td class="org-left">/globe/(X)</td>
<td class="org-left">Fichiers exécutables par tous</td>
</tr>

<tr>
<td class="org-left">/globe/(*)</td>
<td class="org-left">Fichiers exécutables</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org11dbef5" class="outline-5">
<h5 id="org11dbef5"><span class="section-number-5">1.9.3.6</span> Date de modification</h5>
<div class="outline-text-5" id="text-1-9-3-6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>globe/(m-/N</i>)</td>
<td class="org-left">Fichiers modifiés il y a au plus <i>N</i> jours</td>
</tr>

<tr>
<td class="org-left"><i>globe/(ms-/N</i>)</td>
<td class="org-left">Fichiers modifiés il y a au plus <i>N</i> secondes</td>
</tr>

<tr>
<td class="org-left"><i>globe/(mm-/N</i>)</td>
<td class="org-left">Fichiers modifiés il y a au plus <i>N</i> minutes</td>
</tr>

<tr>
<td class="org-left"><i>globe/(mh-/N</i>)</td>
<td class="org-left">Fichiers modifiés il y a au plus <i>N</i> heures</td>
</tr>

<tr>
<td class="org-left"><i>globe/(mw-/N</i>)</td>
<td class="org-left">Fichiers modifiés il y a au plus <i>N</i> semaines</td>
</tr>

<tr>
<td class="org-left"><i>globe/(mM-/N</i>)</td>
<td class="org-left">Fichiers modifiés il y a au plus <i>N</i> mois</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgd0430ce" class="outline-5">
<h5 id="orgd0430ce"><span class="section-number-5">1.9.3.7</span> Taille</h5>
<div class="outline-text-5" id="text-1-9-3-7">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>globe/(Lk-/N</i>)</td>
<td class="org-left">Fichiers occupant au plus <i>N</i> KB</td>
</tr>

<tr>
<td class="org-left"><i>globe/(Lk+/N</i>)</td>
<td class="org-left">Fichiers occupant au moins <i>N</i> KB</td>
</tr>

<tr>
<td class="org-left"><i>globe/(Lm-/N</i>)</td>
<td class="org-left">Fichiers occupant au plus <i>N</i> MB</td>
</tr>

<tr>
<td class="org-left"><i>globe/(Lk+/N</i>)</td>
<td class="org-left">Fichiers occupant au moins <i>N</i> MB</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org73c0052" class="outline-5">
<h5 id="org73c0052"><span class="section-number-5">1.9.3.8</span> Tri</h5>
<div class="outline-text-5" id="text-1-9-3-8">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">/globe/(n)</td>
<td class="org-left">Trie aussi suivant les nombres</td>
</tr>

<tr>
<td class="org-left">(o/&#x2026;/)</td>
<td class="org-left">Tri</td>
</tr>

<tr>
<td class="org-left">(O/&#x2026;/)</td>
<td class="org-left">Tri inversé</td>
</tr>

<tr>
<td class="org-left">/globe/(on)</td>
<td class="org-left">Tri suivant le nom</td>
</tr>

<tr>
<td class="org-left">/globe/(On)</td>
<td class="org-left">Tri inverse suivant le nom</td>
</tr>

<tr>
<td class="org-left">/globe/(oL)</td>
<td class="org-left">Tri suivant la taille</td>
</tr>

<tr>
<td class="org-left">/globe/(om)</td>
<td class="org-left">Tri suivant la date de modification</td>
</tr>

<tr>
<td class="org-left">/globe/(od)</td>
<td class="org-left">Tri suivant la profondeur dans les sous-répertoires</td>
</tr>

<tr>
<td class="org-left">/globe/(om[/N/])</td>
<td class="org-left">/N/&lt;sup&gt;ième&lt;/sup&gt; fichier le plus récemment modifié</td>
</tr>

<tr>
<td class="org-left">/globe/(oL[/N/])</td>
<td class="org-left">/N/&lt;sup&gt;ième&lt;/sup&gt; fichier au classement par taille</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org9e0b6a2" class="outline-5">
<h5 id="org9e0b6a2"><span class="section-number-5">1.9.3.9</span> Opérations</h5>
<div class="outline-text-5" id="text-1-9-3-9">
<p>
Enchaîner plusieurs qualificateurs produit un « et » logique
implicite. Les séparer par une virgule produit un « ou » logique. Le
« non » logique est représenté par un « ^ ».
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">/globe/(.w)</td>
<td class="org-left">Fichiers standard modifiables</td>
</tr>

<tr>
<td class="org-left">/globe/(.,w)</td>
<td class="org-left">Fichiers standard ou modifiables</td>
</tr>

<tr>
<td class="org-left">/globe/(^.)</td>
<td class="org-left">Fichiers sauf les fichiers standard</td>
</tr>

<tr>
<td class="org-left">/globe/(.<sup>*</sup>)</td>
<td class="org-left">Fichiers standard sauf les exécutables</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgaac4b62" class="outline-5">
<h5 id="orgaac4b62"><span class="section-number-5">1.9.3.10</span> Indices</h5>
<div class="outline-text-5" id="text-1-9-3-10">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">/globe/([/N/])</td>
<td class="org-left">/N/&lt;sup&gt;ième&lt;/sup&gt; élément de la liste  générée par le globbing</td>
</tr>

<tr>
<td class="org-left"><i>globe/([/M</i>,/N/])</td>
<td class="org-left">Du /M/&lt;sup&gt;ième&lt;/sup&gt; au /N/&lt;sup&gt;ième&lt;/sup&gt; élément de la liste  générée par le globbing</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgd46461f" class="outline-5">
<h5 id="orgd46461f"><span class="section-number-5">1.9.3.11</span> Code</h5>
<div class="outline-text-5" id="text-1-9-3-11">
<p>
La syntaxe :
</p>

<pre class="example">
/globe/(e:'/code/')
</pre>

<p>
exécute le code pour chaque fichier de la liste générée par le
globbing. Si la commande réussit, le fichier est affiché. Le fichier
en cours de traitement est stocké dans la variable :
</p>

<pre class="example">
$REPLY
</pre>

<p>
Le tableau  :
</p>

<pre class="example">
$reply
</pre>

<p>
permet de remplacer le fichier en cours de traitement par une liste
de fichiers.
</p>
</div>
</div>
</div>


<div id="outline-container-orgece0583" class="outline-4">
<h4 id="orgece0583"><span class="section-number-4">1.9.4</span> Modificateurs</h4>
<div class="outline-text-4" id="text-1-9-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">(<i>qualificateur(s)</i>:/modificateur(s)/)</td>
<td class="org-left">Ordre de la syntaxe</td>
</tr>

<tr>
<td class="org-left">/chemin///fichier/(:t)</td>
<td class="org-left">Affiche les noms de fichiers sans le chemin</td>
</tr>

<tr>
<td class="org-left">/globe/(:t)</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">/chemin///fichier/(:h)</td>
<td class="org-left">Affiche seulement le chemin</td>
</tr>

<tr>
<td class="org-left">/globe/(:h)</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><i>fichier</i>./extension/(:r)</td>
<td class="org-left">Affiche les noms de fichier sans extension</td>
</tr>

<tr>
<td class="org-left">/globe/(:r)</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><i>fichier</i>./extension/(:e)</td>
<td class="org-left">Affiche seulement les extensions</td>
</tr>

<tr>
<td class="org-left">/globe/(:e)</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">/globe/(:u)</td>
<td class="org-left">Affiche le résultat du globbing  en majuscules</td>
</tr>

<tr>
<td class="org-left">/globe/(:l)</td>
<td class="org-left">Affiche le résultat du globbing  en minuscules</td>
</tr>

<tr>
<td class="org-left">=/nom/</td>
<td class="org-left">Remplace le <i>nom</i> par le chemin complet  du fichier si possible</td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-org4b8bc66" class="outline-5">
<h5 id="org4b8bc66"><span class="section-number-5">1.9.4.1</span> Substitution</h5>
<div class="outline-text-5" id="text-1-9-4-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>globe/(:s//avant///après/</i>)</td>
<td class="org-left">La première occurence d'<i>avant</i> est remplacée par <i>après</i>  dans le résultat du globbing <i>globe</i></td>
</tr>

<tr>
<td class="org-left"><i>globe/(:gs//avant///après/</i>)</td>
<td class="org-left">Toutes les occurences d'<i>avant</i> sont remplacées par <i>après</i>  dans le résultat du globbing</td>
</tr>

<tr>
<td class="org-left">/globe/(:&amp;)</td>
<td class="org-left">Répétition de la dernière substitution</td>
</tr>

<tr>
<td class="org-left">/globe/(:g&amp;)</td>
<td class="org-left">Répétition globale de la dernière substitution</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgfa40cde" class="outline-5">
<h5 id="orgfa40cde"><span class="section-number-5">1.9.4.2</span> Variables</h5>
<div class="outline-text-5" id="text-1-9-4-2">
<p>
La plupart des modificateurs agissent aussi sur les variables. On utilise alors la syntaxe :
</p>

<pre class="example">
${/variable/:/modificateur/}
</pre>

<p>
On peut enchaîner plusieurs modificateurs  :
</p>

<pre class="example">
${/variable/:/modificateur_1/:/modificateur_2/}
</pre>
</div>
</div>
</div>


<div id="outline-container-orgeefbf0c" class="outline-4">
<h4 id="orgeefbf0c"><span class="section-number-4">1.9.5</span> Fanions</h4>
<div class="outline-text-4" id="text-1-9-5">
<p>
Les fanions s'insèrent aux motifs de globbing pour modifier leur comportement.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">(#i)</td>
<td class="org-left">Rend la suite de la correspondance insensible à la casse</td>
</tr>

<tr>
<td class="org-left">(#l)</td>
<td class="org-left">Rend la suite de la correspondance insensible à la casse  pour les minuscules</td>
</tr>

<tr>
<td class="org-left">(#I)</td>
<td class="org-left">Rend la suite de la correspondance sensible à la casse</td>
</tr>

<tr>
<td class="org-left">(#a/N/)</td>
<td class="org-left">Autorise au maximum <i>N</i> erreurs de frappe</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org9809790" class="outline-4">
<h4 id="org9809790"><span class="section-number-4">1.9.6</span> Rétro-références</h4>
<div class="outline-text-4" id="text-1-9-6">
<p>
Les rétro-références peuvent être utilisées dans :
</p>

<ul class="org-ul">
<li>les remplacements si le motif modifié dépend du motif initial</li>
<li>les motifs où des sous-motifs doivent être répétés</li>
</ul>

<p>
L'activation des rétro-référence remplit le tableau
<b>$match</b> avec chaque sous-motif inclus dans des
parenthèses.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">(#b)</td>
<td class="org-left">Active les rétro-références</td>
</tr>

<tr>
<td class="org-left">(#B)</td>
<td class="org-left">Désactive les rétro-références</td>
</tr>

<tr>
<td class="org-left">$match</td>
<td class="org-left">Tableau des sous-motif</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org968f916" class="outline-4">
<h4 id="org968f916"><span class="section-number-4">1.9.7</span> Variables</h4>
<div class="outline-text-4" id="text-1-9-7">
<p>
Lorsqu'une variable contient un motif de globbing, ce dernier n'est
par défaut pas activé. On peut toutefois provoquer la génération
des noms de fichiers via l'expression :
</p>

<pre class="example">
${~/variable/}
</pre>

<p>
Ainsi, la suite :
</p>

<pre class="example">
/variable/=*
print $/variable/
</pre>

<p>
affiche le caractère « * » tandis que la suite :
</p>

<pre class="example">
/variable/=*
print ${~/variable/}
</pre>

<p>
affiche la liste de tous les fichiers du répertoire.
</p>
</div>
</div>


<div id="outline-container-org39ef9a9" class="outline-4">
<h4 id="org39ef9a9"><span class="section-number-4">1.9.8</span> Désactivation</h4>
<div class="outline-text-4" id="text-1-9-8">
<p>
La précommande <b>noglob</b> permet de désactiver la
génération de fichiers pour la commande qui suit :
</p>

<pre class="example">
noglob /commande/ /globe-désactivé/
</pre>
</div>
</div>
</div>


<div id="outline-container-org899e9c1" class="outline-3">
<h3 id="org899e9c1"><span class="section-number-3">1.10</span> Tableaux</h3>
<div class="outline-text-3" id="text-1-10">
<p>
On rencontre souvent en programmation au moins deux types de variables :
</p>
<ul class="org-ul">
<li>Les variables de type scalaire, pouvant contenir un nombre, une chaîne de caractères</li>
<li>Les variables de type tableau pouvant contenir plusieurs éléments de type scalaire</li>
</ul>

<p>
<i>Remarques :</i> dans certains langages de programmation :
</p>
<ul class="org-ul">
<li>un élément d'un tableau peut également être un tableau. 	 Autrement dit, un tableau peut être imbriqué dans un autre.</li>
<li>on parle de liste plutôt que de tableau. Je n'emploie pas 		ce terme ici pour éviter la confusion avec les listes de mots, 	 concept fréquemment utilisé par les shells.</li>
</ul>
</div>


<div id="outline-container-orgf8baed8" class="outline-4">
<h4 id="orgf8baed8"><span class="section-number-4">1.10.1</span> Déclaration</h4>
<div class="outline-text-4" id="text-1-10-1">
<p>
On peut déclarer une variable comme étant un tableau par :
</p>

<pre class="example">
typeset -a /tableau/
</pre>
</div>
</div>


<div id="outline-container-org0b6e072" class="outline-4">
<h4 id="org0b6e072"><span class="section-number-4">1.10.2</span> Éléments</h4>
<div class="outline-text-4" id="text-1-10-2">
<p>
La syntaxe :
</p>

<pre class="example">
/tableau/=(/element_1 element_2 ... element_N/)
</pre>

<p>
définit ou modifie un tableau.
</p>
</div>
</div>


<div id="outline-container-orgb8d4799" class="outline-4">
<h4 id="orgb8d4799"><span class="section-number-4">1.10.3</span> Indices</h4>
<div class="outline-text-4" id="text-1-10-3">
<p>
On accède à un élément d'un tableau par :
</p>

<pre class="example">
/tableau/[/indice/]
</pre>

<p>
Précisons que cet accès peut servir autant en lecture :
</p>

<pre class="example">
print $/tableau/[/indice/]
</pre>

<p>
qu'en écriture :
</p>

<pre class="example">
/tableau/[/indice/]=/valeur/
</pre>

<p>
Les indices positifs sont comptés à partir de 1 au début du tableau
et les indices négatifs à partir de la fin. L'élément :
</p>

<pre class="example">
$/tableau/[2]
</pre>

<p>
est donc le deuxième et :
</p>

<pre class="example">
$/tableau/[-2]
</pre>

<p>
l'avant-dernier.
</p>
</div>
</div>


<div id="outline-container-orgab082e0" class="outline-4">
<h4 id="orgab082e0"><span class="section-number-4">1.10.4</span> Tranches</h4>
<div class="outline-text-4" id="text-1-10-4">
<p>
On peut accéder à un sous-tableau contenant les
éléments <i>M</i> à /N/ :
</p>

<pre class="example">
$/tableau/[/M/,/N/]
</pre>
</div>
</div>


<div id="outline-container-orgcfe5f85" class="outline-4">
<h4 id="orgcfe5f85"><span class="section-number-4">1.10.5</span> Tout le tableau</h4>
<div class="outline-text-4" id="text-1-10-5">
<p>
Notons la notation particulière :
</p>

<pre class="example">
$/tableau/[*]
</pre>

<p>
décrivant tout le tableau, et donc équivalente à :
</p>

<pre class="example">
$/tableau/[1,-1]
</pre>
</div>


<div id="outline-container-org7aa412f" class="outline-5">
<h5 id="org7aa412f"><span class="section-number-5">1.10.5.1</span> Guillemets</h5>
<div class="outline-text-5" id="text-1-10-5-1">
<p>
La notation :
</p>

<pre class="example">
$/tableau/[@]
</pre>

<p>
est semblable à :
</p>

<pre class="example">
$/tableau/[*]
</pre>

<p>
mais elle est affichée comme une suite de mots même
entre guillemets doubles :
</p>

<pre class="example">
&amp;quot;$/tableau/[@]&amp;quot;
</pre>

<p>
Pour s'en convaincre, supposons que :
</p>

<pre class="example">
/tableau/=(/abc/ /xyz/)
</pre>

<p>
La commande :
</p>

<pre class="example">
print -l "$/tableau/[*]"
</pre>

<p>
affichera :
</p>

<pre class="example">
/abc/ /xyz/
</pre>

<p>
tandis que :
</p>

<pre class="example">
print -l "$/tableau/[@]"
</pre>

<p>
affichera :
</p>

<pre class="example">
/abc/
/xyz/
</pre>

<p>
La syntaxe :
</p>

<pre class="example">
${(@)/tableau/}
</pre>

<p>
produira le même effet que :
</p>

<pre class="example">
$/tableau/[@]
</pre>
</div>
</div>
</div>


<div id="outline-container-org88f34f8" class="outline-4">
<h4 id="org88f34f8"><span class="section-number-4">1.10.6</span> Éclatement en tableau</h4>
<div class="outline-text-4" id="text-1-10-6">
<p>
Une variable contenant des espaces, du type :
</p>

<pre class="example">
/variable/=&amp;quot;/abc/ /def/ /.../ /uvw/&amp;quot;
</pre>

<p>
peut être éclatée en un tableau de mots au moyen la syntaxe :
</p>

<pre class="example">
${(z)/variable/}
</pre>

<p>
On obtient le même effet en éclatant en mots puis en insérant
la liste dans les parenthèses servant à définir la valeur d'un
tableau :
</p>

<pre class="example">
( ${=/variable/} )
</pre>
</div>
</div>


<div id="outline-container-orgaa5eaf7" class="outline-4">
<h4 id="orgaa5eaf7"><span class="section-number-4">1.10.7</span> Fusion</h4>
<div class="outline-text-4" id="text-1-10-7">
<p>
Supposons que :
</p>

<pre class="example">
/tableau/=( /abc/ /def/ /.../ /uvw/ )
</pre>

<p>
On peut fusionner les éléments d'un tableau en une seule chaîne
de caractère au moyen de la syntaxe :
</p>

<pre class="example">
${(j//Séparateur//)/tableau/}
</pre>

<p>
Le résultat s'écrira :
</p>

<pre class="example">
&amp;quot;/abc//Séparateur//def//Séparateur//...//Séparateur//uvw/&amp;quot;
</pre>
</div>
</div>


<div id="outline-container-orgd079230" class="outline-4">
<h4 id="orgd079230"><span class="section-number-4">1.10.8</span> Redirections</h4>
<div class="outline-text-4" id="text-1-10-8">
<p>
Il est possible de former un tableau à partir d'un fichier, à raison
d'un élément par ligne. On utilise la syntaxe :
</p>

<pre class="example">
/tableau/=( ${(f)"$(&lt; /fichier/)"} )
</pre>
</div>
</div>


<div id="outline-container-org041c8be" class="outline-4">
<h4 id="org041c8be"><span class="section-number-4">1.10.9</span> Scalaires</h4>
<div class="outline-text-4" id="text-1-10-9">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">$#/tableau/</td>
<td class="org-left">Nombre d'éléments d'un tableau</td>
</tr>

<tr>
<td class="org-left">${#/tableau/}</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgb2f5c63" class="outline-4">
<h4 id="orgb2f5c63"><span class="section-number-4">1.10.10</span> Recherche</h4>
<div class="outline-text-4" id="text-1-10-10">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">$/tableau/[(r)/motif/]</td>
<td class="org-left">Recherche du motif dans les éléments  en partant du début du tableau</td>
</tr>

<tr>
<td class="org-left">$/tableau/[(R)/motif/]</td>
<td class="org-left">Recherche du motif dans les éléments  en partant de la fin du tableau</td>
</tr>

<tr>
<td class="org-left">$/tableau/[(i)/motif/]</td>
<td class="org-left">Comme la recherche avec (r), mais retourne l'indice</td>
</tr>

<tr>
<td class="org-left">$/tableau/[(I)/motif/]</td>
<td class="org-left">Comme la recherche avec (R), mais retourne l'indice</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgc9aad35" class="outline-4">
<h4 id="orgc9aad35"><span class="section-number-4">1.10.11</span> Tri</h4>
<div class="outline-text-4" id="text-1-10-11">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">${(o)/tableau/}</td>
<td class="org-left">Tri alphabétique des éléments</td>
</tr>

<tr>
<td class="org-left">${(O)/tableau/}</td>
<td class="org-left">Tri alphabétique inverse des éléments</td>
</tr>

<tr>
<td class="org-left">${(oi)/tableau/}</td>
<td class="org-left">Tri insensible à la casse</td>
</tr>

<tr>
<td class="org-left">${(Oi)/tableau/}</td>
<td class="org-left">Tri inverse insensible à la casse</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org2309269" class="outline-4">
<h4 id="org2309269"><span class="section-number-4">1.10.12</span> Unicité</h4>
<div class="outline-text-4" id="text-1-10-12">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">${(u)/tableau/}</td>
<td class="org-left">Chaque élément du tableau n'est repris qu'une fois</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org600f17b" class="outline-4">
<h4 id="org600f17b"><span class="section-number-4">1.10.13</span> Expansion tensorielle</h4>
<div class="outline-text-4" id="text-1-10-13">
<p>
Supposons que :
</p>

<pre class="example">
/tableau_1/=(/T_1_ T_2_ T_3_/)
/tableau_2/=(/U_1 U_2/)
</pre>

<p>
La commande :
</p>

<pre class="example">
print ${^/tableau_1/}${^/tableau_2/}
</pre>

<p>
affiche :
</p>

<pre class="example">
/T_1_//U_1/ /T_1_//U_2/ /T_2_//U_1/ /T_2_//U_2/ /T_3_//U_1/ /T_3_//U_2/
</pre>
</div>
</div>


<div id="outline-container-org63c722f" class="outline-4">
<h4 id="org63c722f"><span class="section-number-4">1.10.14</span> Expansion hybride</h4>
<div class="outline-text-4" id="text-1-10-14">
<p>
Supposons que :
</p>

<pre class="example">
/tableau/=(/ELT_1 ELT_2 ... ELT_N/)
</pre>

<p>
La commande :
</p>

<pre class="example">
print &amp;quot;/abc/${/tableau/}/xyz/&amp;quot;
</pre>

<p>
affiche sans surprise :
</p>

<pre class="example">
/abc//ELT_1 ELT_2  ... ELT_N//xyz/
</pre>

<p>
Il est possible de reproduire le contexte pour chaque élément du tableau. La commande :
</p>

<pre class="example">
print &amp;quot;/abc/${^/tableau/}/xyz/&amp;quot;
</pre>

<p>
affiche :
</p>

<pre class="example">
/abc//ELT_1//xyz/ /abc&lt;/bleu&gt;/ELT_2//xyz/ /.../ /abc//ELT_N//xyz/ /.../
</pre>
</div>
</div>


<div id="outline-container-orgcff2fa9" class="outline-4">
<h4 id="orgcff2fa9"><span class="section-number-4">1.10.15</span> Globalisation</h4>
<div class="outline-text-4" id="text-1-10-15">
<p>
On peut utiliser la génération de fichiers pour remplir un tableau
via la syntaxe :
</p>

<pre class="example">
/tableau/=( /globbing/ )
</pre>

<p>
Les éléments du tableau seront alors les fichiers générés.
</p>
</div>
</div>


<div id="outline-container-orgd941d23" class="outline-4">
<h4 id="orgd941d23"><span class="section-number-4">1.10.16</span> Modificateurs</h4>
<div class="outline-text-4" id="text-1-10-16">
<p>
La plupart des modificateurs agissent aussi sur les tableaux. On utilise alors la syntaxe :
</p>

<pre class="example">
${/tableau/:/modificateur/}
</pre>

<p>
Le modificateur est alors appliqué à chaque élément du tableau.
</p>
</div>
</div>
</div>


<div id="outline-container-orgeffda0a" class="outline-3">
<h3 id="orgeffda0a"><span class="section-number-3">1.11</span> Dictionnaires</h3>
<div class="outline-text-3" id="text-1-11">
<p>
Un dictionnaire, ou table de hachage, est un tableau particulier qui
associe des clés à des valeurs.
</p>
</div>


<div id="outline-container-orga3851aa" class="outline-4">
<h4 id="orga3851aa"><span class="section-number-4">1.11.1</span> Déclaration</h4>
<div class="outline-text-4" id="text-1-11-1">
<p>
On peut déclarer une variable comme étant un dictionnaire par :
</p>

<pre class="example">
typeset -A /dictionnaire/
</pre>
</div>
</div>


<div id="outline-container-org835bf71" class="outline-4">
<h4 id="org835bf71"><span class="section-number-4">1.11.2</span> Éléments</h4>
<div class="outline-text-4" id="text-1-11-2">
<p>
La syntaxe :
</p>

<pre class="example">
/dictionnaire/=(/clé_1 val_1 clé_2 val_2 .../)
</pre>

<p>
définit ou modifie un dictionnaire.
</p>
</div>
</div>


<div id="outline-container-org0919263" class="outline-4">
<h4 id="org0919263"><span class="section-number-4">1.11.3</span> Indices</h4>
<div class="outline-text-4" id="text-1-11-3">
<p>
On accède à un élément d'un dictionnaire par :
</p>

<pre class="example">
/dictionnaire/[/clé/]
</pre>

<p>
Précisons que cet accès peut servir autant en lecture :
</p>

<pre class="example">
print $/dictionnaire/[/clé/]
</pre>

<p>
qu'en écriture :
</p>

<pre class="example">
/dictionnaire/[/clé/]=/valeur/
</pre>
</div>
</div>


<div id="outline-container-orgbba854d" class="outline-4">
<h4 id="orgbba854d"><span class="section-number-4">1.11.4</span> Clés et valeurs</h4>
<div class="outline-text-4" id="text-1-11-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">${(k)/dictionnaire/}</td>
<td class="org-left">Renvoie un tableau contenant les clés</td>
</tr>

<tr>
<td class="org-left">${(v)/dictionnaire/}</td>
<td class="org-left">Renvoie un tableau contenant les valeurs</td>
</tr>

<tr>
<td class="org-left">${(kv)/dictionnaire/}</td>
<td class="org-left">Renvoie un tableau contenant les clés et les valeurs</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org74fa616" class="outline-4">
<h4 id="org74fa616"><span class="section-number-4">1.11.5</span> Recherche</h4>
<div class="outline-text-4" id="text-1-11-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">$/dictionnaire/[(i)/motif/]</td>
<td class="org-left">recherche de la première correspondance  au motif dans les clés</td>
</tr>

<tr>
<td class="org-left">$/dictionnaire/[(I)/motif/]</td>
<td class="org-left">recherche de toutes les correspondances  au motif dans les clés</td>
</tr>

<tr>
<td class="org-left">$/dictionnaire/[(r)/motif/]</td>
<td class="org-left">recherche de la première correspondance  au motif dans les valeurs</td>
</tr>

<tr>
<td class="org-left">$/dictionnaire/[(R)/motif/]</td>
<td class="org-left">recherche de toutes les correspondances  au motif dans les valeurs</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-orgfebee48" class="outline-3">
<h3 id="orgfebee48"><span class="section-number-3">1.12</span> Environnement</h3>
<div class="outline-text-3" id="text-1-12">
</div>
<div id="outline-container-org28a20d2" class="outline-4">
<h4 id="org28a20d2"><span class="section-number-4">1.12.1</span> Variable d'environnement</h4>
<div class="outline-text-4" id="text-1-12-1">
<p>
Une variable ordinaire n'est accessible que depuis le shell courant.
Pour qu'une variable soit également accessible dans les sous-processus
lancés par le shell courant, il faut la déclarer en utilisant le mot
clef *export* :
</p>

<pre class="example">
export /variable/=/valeur/
</pre>

<p>
Une telle variable est nommée variable d'environnement.
Voici quelques exemples de variables d'environnements :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">SHELL</td>
<td class="org-left">Shell</td>
</tr>

<tr>
<td class="org-left">USER</td>
<td class="org-left">Utilisateur</td>
</tr>

<tr>
<td class="org-left">HOME</td>
<td class="org-left">Répertoire personnel</td>
</tr>

<tr>
<td class="org-left">LANG</td>
<td class="org-left">Langue et encodage par défaut</td>
</tr>

<tr>
<td class="org-left">NNTPSERVER</td>
<td class="org-left">Serveur de nouvelles</td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-org42174ef" class="outline-5">
<h5 id="org42174ef"><span class="section-number-5">1.12.1.1</span> Chemins d'accès</h5>
<div class="outline-text-5" id="text-1-12-1-1">
<p>
Certaines variables d'environnement contiennent des chemins d'accès
séparés par des « : ». C'est le cas de la variable
<b>PATH</b>, qui contient les chemins d'accès aux éxécutables :
</p>

<pre class="example">
export PATH=/cheminA/:/cheminB/:/.../
</pre>

<p>
Voici quelques autres variables contenant des chemins d'accès :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">MAILPATH</td>
<td class="org-left">Chemins d'accès aux courriels</td>
</tr>

<tr>
<td class="org-left">PYTHONPATH</td>
<td class="org-left">Chemins d'accès aux exécutables python</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgebb19d5" class="outline-5">
<h5 id="orgebb19d5"><span class="section-number-5">1.12.1.2</span> Chemin vers une commande</h5>
<div class="outline-text-5" id="text-1-12-1-2">
<p>
La notation :
</p>

<pre class="example">
=/commande/
</pre>

<p>
donne le chemin complet du fichier exécutable correspondant à la commande. Par exemple :
</p>

<pre class="example">
print =/commande/
</pre>

<p>
affiche ce chemin et :
</p>

<pre class="example">
cat =/script/
</pre>

<p>
affiche le contenu d'un script
</p>
</div>
</div>
</div>


<div id="outline-container-org994ac74" class="outline-4">
<h4 id="org994ac74"><span class="section-number-4">1.12.2</span> Tableaux associés aux variables d'environnements</h4>
<div class="outline-text-4" id="text-1-12-2">
<p>
Le shell zsh associe un tableau aux variables d'environnement contenant
des chemins d'accès. Les deux-points y sont remplacés par des espaces.
La syntaxe :
</p>

<pre class="example">
path=/cheminA/:/cheminB/:/.../
</pre>

<p>
est équivalente à :
</p>

<pre class="example">
export PATH=/cheminA/:/cheminB/:/.../
</pre>

<p>
Autres exemples :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">mailpath</td>
<td class="org-left">MAILPATH</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org7ca5923" class="outline-3">
<h3 id="org7ca5923"><span class="section-number-3">1.13</span> Scripts</h3>
<div class="outline-text-3" id="text-1-13">
<p>
Lorsqu'on exécute souvent une même série de commandes, il est
possible des les sauvegarder dans un fichier :
</p>

<pre class="example">
/ligne_de_commande-1/
/ligne_de_commande-2/
/  ......./
/ligne_de_commande-N/
</pre>

<p>
On rend ensuite le fichier exécutable par :
</p>

<pre class="example">
chmod u+x /fichier/
</pre>

<p>
Il suffit ensuite d'exécuter le fichier en indiquant son chemin absolu :
</p>

<pre class="example">
//chemin-absolu///fichier/
</pre>

<p>
ou, si le fichier est dans le répertoire courant :
</p>

<pre class="example">
.//fichier/
</pre>

<p>
La suite de commandes sera alors exécutée à chaque exécution
du fichier. On appelle <b>script</b> un tel fichier. Bien
entendu, un script peut contenir autre chose que de simples lignes
de commandes : variables, fonctions, conditions, structures de
contrôle permettent de le transformer en programme plus évolué.
</p>
</div>


<div id="outline-container-orgcddd887" class="outline-4">
<h4 id="orgcddd887"><span class="section-number-4">1.13.1</span> Lancement</h4>
<div class="outline-text-4" id="text-1-13-1">
<p>
Pour lancer un script avec son chemin absolu :
</p>

<pre class="example">
//chemin-absolu///script/
</pre>

<p>
Pour lancer un script du répertoire courant :
</p>

<pre class="example">
.//script/
</pre>

<p>
Le plus simple est encore de placer le script dans un répertoire
contenu dans la variable d'environnement $PATH. On le lance alors
simplement par :
</p>

<pre class="example">
/script/
</pre>
</div>
</div>


<div id="outline-container-org17b468e" class="outline-4">
<h4 id="org17b468e"><span class="section-number-4">1.13.2</span> Eval</h4>
<div class="outline-text-4" id="text-1-13-2">
<p>
La commande <b>eval</b> exécute une chaine de caractère, mono
ou multiligne. Exemple :
</p>

<pre class="example">
/var/=`cat /fichier/`
eval $/var/
</pre>
</div>
</div>


<div id="outline-container-orgc5e4144" class="outline-4">
<h4 id="orgc5e4144"><span class="section-number-4">1.13.3</span> Source</h4>
<div class="outline-text-4" id="text-1-13-3">
<p>
Pour lancer un script, le shell crée un nouveau processus dans
lequel le script est exécuté. Si on désire exécuter le script dans
le processus courant, on fait :
</p>

<pre class="example">
source /chemin///script/
</pre>

<p>
ou, si le script est dans $PATH :
</p>

<pre class="example">
source /script/
</pre>
</div>
</div>


<div id="outline-container-org1ed07cf" class="outline-4">
<h4 id="org1ed07cf"><span class="section-number-4">1.13.4</span> Interpréteur</h4>
<div class="outline-text-4" id="text-1-13-4">
<p>
Par défaut, le shell exécute un script en lançant une nouvelle
instance de lui-même qui va exécuter les commandes contenues dans le
fichier. On peut toutefois demander que l'exécution du script soit
effectuée par un interpréteur de commande donné. On insère alors
la syntaxe :
</p>

<pre class="example">
#!/interpréteur/
</pre>

<p>
à la première ligne du fichier. En fait, les caractères
« #! » doivent être les deux premiers du
fichier. Voici quelques exemples d'interpréteurs de commandes de type
shell :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">#!/bin/sh</td>
<td class="org-left">Début d'un script shell standard</td>
</tr>

<tr>
<td class="org-left">#!/bin/zsh</td>
<td class="org-left">Début d'un script shell zsh</td>
</tr>

<tr>
<td class="org-left">#!/bin/bash</td>
<td class="org-left">Début d'un script shell bash</td>
</tr>

<tr>
<td class="org-left">#!/bin/csh</td>
<td class="org-left">Début d'un script c-shell</td>
</tr>

<tr>
<td class="org-left">#!/bin/tcsh</td>
<td class="org-left">Début d'un script tenex-c-shell</td>
</tr>

<tr>
<td class="org-left">#!/bin/ksh</td>
<td class="org-left">Début d'un script korn shell</td>
</tr>
</tbody>
</table>

<p>
et quelques exemples d'autres langages de script :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">#!/usr/bin/perl</td>
<td class="org-left">Début d'un script perl</td>
</tr>

<tr>
<td class="org-left">#!/usr/bin/python</td>
<td class="org-left">Début d'un script python</td>
</tr>

<tr>
<td class="org-left">#!/usr/bin/ruby</td>
<td class="org-left">Début d'un script ruby</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org247ab9f" class="outline-4">
<h4 id="org247ab9f"><span class="section-number-4">1.13.5</span> Valeurs des variables internes</h4>
<div class="outline-text-4" id="text-1-13-5">
<p>
Une variable utilisée dans un script peut recevoir
une valeur dans la ligne de commande appelante :
</p>

<pre class="example">
/variable/=/valeur/   /script/
</pre>

<p>
La variable est alors accessible dans le code du script et uniquement
dans celui-ci.
</p>
</div>
</div>


<div id="outline-container-org551fe40" class="outline-4">
<h4 id="org551fe40"><span class="section-number-4">1.13.6</span> Arguments</h4>
<div class="outline-text-4" id="text-1-13-6">
<p>
Tout comme n'importe quelle commande, un  script peut être appelé avec des arguments :
</p>

<pre class="example">
/script/ /argument_1/ /argument_2/ /.../ /argument_N/
</pre>

<p>
Dans le code du script, ces arguments sont disponibles
via des variables particulières :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">0</td>
<td class="org-left">Nom du script en cours d'exécution</td>
</tr>

<tr>
<td class="org-left">1, 2, 3, &#x2026;</td>
<td class="org-left">Arguments passé au script</td>
</tr>

<tr>
<td class="org-left">#</td>
<td class="org-left">Nombre d'arguments du script</td>
</tr>

<tr>
<td class="org-left">*</td>
<td class="org-left">Liste des arguments</td>
</tr>

<tr>
<td class="org-left">@</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
Les valeurs correspondant à ces variables s'obtiennent, comme pour
n'importe quelle variable, en ajoutant un « $ »
devant leur nom :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">$0</td>
<td class="org-left">Nom du script en cours d'exécution</td>
</tr>

<tr>
<td class="org-left">$1, $2, $3, &#x2026;</td>
<td class="org-left">Arguments passé au script</td>
</tr>

<tr>
<td class="org-left">${10}, ${11}, &#x2026;</td>
<td class="org-left">Les arguments de plusieurs chiffres  nécessitent la forme avec accolades</td>
</tr>

<tr>
<td class="org-left">$#</td>
<td class="org-left">Nombre d'arguments du script</td>
</tr>

<tr>
<td class="org-left">$*</td>
<td class="org-left">Liste des arguments</td>
</tr>

<tr>
<td class="org-left">$@</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-orgc4ecbcf" class="outline-5">
<h5 id="orgc4ecbcf"><span class="section-number-5">1.13.6.1</span> Modifications</h5>
<div class="outline-text-5" id="text-1-13-6-1">
<p>
La commande <b>set</b> permet de modifier les variables
associées aux arguments. Après l'instruction :
</p>

<pre class="example">
set /valeur1/ /valeur2/ /valeur3/ /.../
</pre>

<p>
on aura les égalités :
</p>

<pre class="example">
$1 = /valeur1/
$2 = /valeur2/
$3 = /valeur3/
...
</pre>

<p>
On peut également modifier la variable associée à l'argument <i>N</i> en utilisant
la syntaxe :
</p>

<pre class="example">
/N/=/valeur/
</pre>

<p>
On aura alors l'égalité :
</p>

<pre class="example">
$/N/ = /valeur/
</pre>

<p>
La commande <b>shift</b> décale les variables
$1, $2, $3, &#x2026; en laissant tomber $1. Après :
</p>

<pre class="example">
shift
</pre>

<p>
on aura :
</p>

<pre class="example">
$2 —&gt; $1
$3 —&gt; $2
$4 —&gt; $3
...
</pre>

<p>
Si <i>N</i> est un entier, la commande :
</p>

<pre class="example">
shift /N/
</pre>

<p>
décale les variables $1, $2, $3, &#x2026;
de <i>N</i> positions.
</p>
</div>
</div>


<div id="outline-container-org889382c" class="outline-5">
<h5 id="org889382c"><span class="section-number-5">1.13.6.2</span> Liste des arguments</h5>
<div class="outline-text-5" id="text-1-13-6-2">
<p>
Les valeurs $* et $@ donnent toutes deux la liste des arguments. Le shell considère :
</p>

<pre class="example">
$*
</pre>

<p>
comme une suite de mots. Par contre :
</p>

<pre class="example">
"$*"
</pre>

<p>
est considéré comme un seul mot à cause des guillemets. Le cas de $@
est légèrement différent. Le shell considère :
</p>

<pre class="example">
$@
</pre>

<p>
comme une suite de mots, et il en va de même pour :
</p>

<pre class="example">
"$@"
</pre>

<p>
malgré les guillemets.
</p>

<p>
En fait, si on veut passer tous les arguments du script à une commande
qu'il est chargé d'exécuter, le mieux est généralement d'écrire :
</p>

<pre class="example">
/commande/ &amp;quot;$@&amp;quot;
</pre>
</div>
</div>
</div>


<div id="outline-container-org9dae9a5" class="outline-4">
<h4 id="org9dae9a5"><span class="section-number-4">1.13.7</span> Variables spéciales</h4>
<div class="outline-text-4" id="text-1-13-7">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">$$</td>
<td class="org-left">Identifiant du processus courant</td>
</tr>

<tr>
<td class="org-left">$!</td>
<td class="org-left">Identifiant du dernier processus  lancé en arrière-plan</td>
</tr>

<tr>
<td class="org-left">$?</td>
<td class="org-left">Code de sortie de la dernière commande exécutée (0 si réussie, autre nombre sinon)</td>
</tr>

<tr>
<td class="org-left">$-</td>
<td class="org-left">Variable contenant les options actives du shell</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org6079da9" class="outline-4">
<h4 id="org6079da9"><span class="section-number-4">1.13.8</span> Remplacement du shell</h4>
<div class="outline-text-4" id="text-1-13-8">
<p>
La commande :
</p>

<pre class="example">
exec /commande/
</pre>

<p>
remplace le shell exécutant le script par <i>commande</i>.  Ce peut
être utile afin d'éviter la création d'un processus superflu.  Le cas
typique est celui du script uniligne, ou alors en lançant la dernière
commande du script :
</p>

<pre class="example">
#!/bin/sh
...
exec /commande/
</pre>
</div>
</div>


<div id="outline-container-orgf762398" class="outline-4">
<h4 id="orgf762398"><span class="section-number-4">1.13.9</span> Sortie</h4>
<div class="outline-text-4" id="text-1-13-9">
<p>
L'instruction <b>exit</b> termine le script et
renvoie un code de sortie /N/ :
</p>

<pre class="example">
exit /N/
</pre>

<p>
où <i>N</i> est un entier compris entre 0 et 255.
</p>
</div>
</div>


<div id="outline-container-org5299bc1" class="outline-4">
<h4 id="org5299bc1"><span class="section-number-4">1.13.10</span> Groupement</h4>
<div class="outline-text-4" id="text-1-13-10">
<p>
Le groupement par parenthèses crée un sous-shell exécutant
une suite de commandes :
</p>

<pre class="example">
( /commande1/ ; /commande2/ ; /.../ ; /commandeN/ )
</pre>

<p>
Le groupement par accolades exécute une suite de commandes vue comme
une commande unique dans le shell courant :
</p>

<pre class="example">
{ /commande1/ ; /commande2/ ; /.../ ; /commandeN/ ; }
</pre>
</div>


<div id="outline-container-org57fc39c" class="outline-5">
<h5 id="org57fc39c"><span class="section-number-5">1.13.10.1</span> Redirections</h5>
<div class="outline-text-5" id="text-1-13-10-1">
<p>
Un groupe de commande est également une commande, avec ses canaux
d'entrée et sortie qui peuvent être redirigés :
</p>

<pre class="example">
( /.../ ; /.../ ; /.../ ) &gt; /fichier/
{ /.../ ; /.../ ; /.../ } &gt; /fichier/
</pre>

<p>
Cette technique peut donc être utilisée pour agréger la sortie
de plusieurs commandes en un seul flux. Mais ce n’est pas la seule
utilisation possible. Ainsi, pour obtenir une version de print qui
affiche à l’erreur standard, on utilise :
</p>

<pre class="example">
{ print "/texte/" 1&gt;&amp;2 }
</pre>
</div>
</div>
</div>


<div id="outline-container-orga91270f" class="outline-4">
<h4 id="orga91270f"><span class="section-number-4">1.13.11</span> Options</h4>
<div class="outline-text-4" id="text-1-13-11">
<p>
La commande <b>set</b> permet entre-autres de modifier les
options du shell :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">set -x</th>
<th scope="col" class="org-left">Active les informations de débugage commande :  affiche chaque commande avant de l'exécuter</th>
</tr>

<tr>
<th scope="col" class="org-left">set +x</th>
<th scope="col" class="org-left">Désactive les informations de débugage commande</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">set -v</td>
<td class="org-left">Active les informations de débugage ligne :  affiche chaque ligne avant de l'exécuter</td>
</tr>

<tr>
<td class="org-left">set +v</td>
<td class="org-left">Désactive les informations de débugage ligne</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">set -u</td>
<td class="org-left">Active les messages d'erreur  pour toute variable non déclarée</td>
</tr>

<tr>
<td class="org-left">set +u</td>
<td class="org-left">Désactive les messages d'erreur  des variables non déclarée</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">set -a</td>
<td class="org-left">Transforme toute variable déclarée ou modifiée dans le script  en variable d'environnement</td>
</tr>

<tr>
<td class="org-left">set +a</td>
<td class="org-left">Désactive -a</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-orge979bf0" class="outline-3">
<h3 id="orge979bf0"><span class="section-number-3">1.14</span> Configuration</h3>
<div class="outline-text-3" id="text-1-14">
</div>
<div id="outline-container-org81bfbe1" class="outline-4">
<h4 id="org81bfbe1"><span class="section-number-4">1.14.1</span> Fichiers d'initialisation</h4>
<div class="outline-text-4" id="text-1-14-1">
<p>
Le shell zsh lit sa configuration dans plusieurs fichiers :
</p>

<ul class="org-ul">
<li>Le fichier ~/.zshrc, lu à chaque démarrage d'un zsh intéractif</li>
<li>Le fichier ~/.zshenv, contenant les initialisations 	 des variables d'environnement</li>
<li>Le fichier ~/.zprofile, lu à chaque démarrage d'un zsh de session</li>
<li>Le fichier ~/.zlogin, lu à chaque démarrage d'un zsh de session</li>
<li>Le fichier ~/.zlogout, lu à chaque fermeture de session zsh</li>
</ul>

<p>
Le mode intéractif est simplement celui correspondant à
l'interpréteur de commande, par opposition au shell non intéractif
exécutant un script. L'option -i peut forcer le mode intéractif :
</p>

<pre class="example">
zsh -i
</pre>

<p>
Un zsh de session (on dit aussi de login) s'obtient par :
</p>

<pre class="example">
zsh -
</pre>

<p>
ou :
</p>

<pre class="example">
zsh -l
</pre>
</div>
</div>
</div>


<div id="outline-container-org877f7a0" class="outline-3">
<h3 id="org877f7a0"><span class="section-number-3">1.15</span> Fonctions</h3>
<div class="outline-text-3" id="text-1-15">
<p>
Une fonction se définit par la syntaxe :
</p>

<p>
function <i>fonction</i> () {
</p>
<pre class="example">
/commande(s)/
</pre>
<p>
}
</p>

<p>
On peut passer des arguments à une fonction :
</p>

<pre class="example">
/fonction/ /argument1/
/.../ /argumentN/
</pre>

<p>
Ces arguments peuvent être utilisé dans la définition de
la fonction sous les noms $1, $2, $3, etc. Exemple :
</p>

<p>
function <i>fonction</i> () {
</p>
<pre class="example">
... $1 ...
</pre>
<p>
}
</p>

<p>
L'instruction <b>return</b> permet de quitter
la fonction avec un code de retour :
</p>

<p>
function <i>fonction</i> () {
</p>
<pre class="example">
/commande(s)/
return /N/
</pre>
<p>
}
</p>
</div>
</div>


<div id="outline-container-org80d1817" class="outline-3">
<h3 id="org80d1817"><span class="section-number-3">1.16</span> Conditions</h3>
<div class="outline-text-3" id="text-1-16">
<p>
La logique d'un shell est particulière : la valeur vraie est associée
à une commande qui réussit (code de retour 0) et la valeur fausse à une
commande qui échoue (codes de retour non nuls).
</p>

<p>
Les commandes logiques élémentaires sont :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">:</td>
<td class="org-left">Commande nulle :  ne fait rien et retourne vrai</td>
</tr>

<tr>
<td class="org-left">true</td>
<td class="org-left">Ne fait rien, retourne vrai</td>
</tr>

<tr>
<td class="org-left">false</td>
<td class="org-left">Ne fait rien, retourne faux</td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-org726328a" class="outline-4">
<h4 id="org726328a"><span class="section-number-4">1.16.1</span> Nombres</h4>
<div class="outline-text-4" id="text-1-16-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">[ <i>A</i> -eq <i>B</i> ]</td>
<td class="org-left">Vrai si le nombre <i>A</i> est égal au nombre <i>B</i></td>
</tr>

<tr>
<td class="org-left">(( <i>A</i> == <i>B</i> ))</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">[ <i>A</i> -ge <i>B</i> ]</td>
<td class="org-left">Vrai si le nombre <i>A</i> est plus grand que le nombre <i>B</i></td>
</tr>

<tr>
<td class="org-left">(( <i>A</i> &gt;= <i>B</i> ))</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">[ <i>A</i> -le <i>B</i> ]</td>
<td class="org-left">Vrai si le nombre <i>A</i> est plus petit que le nombre <i>B</i></td>
</tr>

<tr>
<td class="org-left">(( <i>A</i> &lt;= <i>B</i> ))</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">[ <i>A</i> -gt <i>B</i> ]</td>
<td class="org-left">Vrai si le nombre <i>A</i> est strictement plus grand que le nombre <i>B</i></td>
</tr>

<tr>
<td class="org-left">(( <i>A</i> &gt; <i>B</i> ))</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">[ <i>A</i> -lt <i>B</i> ]</td>
<td class="org-left">Vrai si le nombre <i>A</i> est strictement plus petit que le nombre <i>B</i></td>
</tr>

<tr>
<td class="org-left">(( <i>A</i> &lt; <i>B</i> ))</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgee06950" class="outline-4">
<h4 id="orgee06950"><span class="section-number-4">1.16.2</span> Variables</h4>
<div class="outline-text-4" id="text-1-16-2">
<p>
La valeur d'une variable « $&lt;span
class="bleu"&gt;variable/ » peut bien entendu s'utiliser partout
à la place d'une chaîne de caractères ou d'un nombre. Il existe en plus
certains tests propres aux variables.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">${+/variable/}</td>
<td class="org-left">Renvoi vrai si la variable est définie</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org5611d9d" class="outline-4">
<h4 id="org5611d9d"><span class="section-number-4">1.16.3</span> Fichiers</h4>
<div class="outline-text-4" id="text-1-16-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">[ -e <i>fichier</i> ]</td>
<td class="org-left">Vrai si le <i>fichier</i> existe</td>
</tr>

<tr>
<td class="org-left">[ -f <i>fichier</i> ]</td>
<td class="org-left">Vrai si le <i>fichier</i> existe et est un fichier régulier</td>
</tr>

<tr>
<td class="org-left">[ -d <i>repertoire</i> ]</td>
<td class="org-left">Vrai si le <i>repertoire</i> existe  et est un répertoire</td>
</tr>

<tr>
<td class="org-left">[ -L <i>lienSymbolique</i> ]</td>
<td class="org-left">Vrai si le <i>lienSymbolique</i> existe  et est un lien symbolique</td>
</tr>

<tr>
<td class="org-left">[ <i>fichier1</i> -nt <i>fichier2</i> ]</td>
<td class="org-left">Vrai si <i>fichier1</i> est plus récent que <i>fichier2</i></td>
</tr>

<tr>
<td class="org-left">[ <i>fichier1</i> -ot <i>fichier2</i> ]</td>
<td class="org-left">Vrai si <i>fichier1</i> est plus ancien que <i>fichier2</i></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orge78fc2d" class="outline-4">
<h4 id="orge78fc2d"><span class="section-number-4">1.16.4</span> Remarque</h4>
<div class="outline-text-4" id="text-1-16-4">
<p>
Notons que dans d'autres langages de programmation comme python,
c'est l'inverse : les valeurs non nulles sont vraies et une valeur
nulle est fausse.
</p>
</div>
</div>
</div>


<div id="outline-container-org6d5e172" class="outline-3">
<h3 id="org6d5e172"><span class="section-number-3">1.17</span> StructuresDeControle</h3>
<div class="outline-text-3" id="text-1-17">
</div>
<div id="outline-container-orgda05f51" class="outline-4">
<h4 id="orgda05f51"><span class="section-number-4">1.17.1</span> Structures conditionnelles uniligne</h4>
<div class="outline-text-4" id="text-1-17-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">[ <i>condition</i> ] &amp;&amp; <i>commande</i></td>
<td class="org-left">Exécute la commande uniquement si    la condition est vraie</td>
</tr>

<tr>
<td class="org-left">[ <i>condition</i> ] ¦¦ <i>commande</i></td>
<td class="org-left">Exécute la commande uniquement si  la condition est fausse</td>
</tr>
</tbody>
</table>

<p>
La suite de commandes :
</p>

<pre class="example">
( /commande1/ ; exit 0 )
</pre>

<p>
réussit toujours. Par conséquent, la structure :
</p>

<pre class="example">
/condition/ &amp;&amp;
( /commande1/ ; exit 0 ) ||
/commande2/
</pre>

<p>
va exécuter <i>commande1</i> si
la <i>condition</i> est vraie et
<i>commande2</i> dans le cas contraire.
</p>
</div>
</div>


<div id="outline-container-org1ace28c" class="outline-4">
<h4 id="org1ace28c"><span class="section-number-4">1.17.2</span> Structure if</h4>
<div class="outline-text-4" id="text-1-17-2">
<p>
La structure <b>if</b> permet d'exécuter conditionnellement
une suite de commandes. La forme la plus simple est :
</p>

<pre class="example">
if [ /condition/ ]
then
/commande(s)/
fi
</pre>

<p>
Dans la forme suivante, la suite <i>commande(s)-1</i>
est exécutée si la condition est vraie. Dans le cas contraire, c'est
la suite <i>commande(s)-2</i> qui est exécutée :
</p>

<pre class="example">
if [ /condition/ ]
then
/commande(s)-1/
else
/commande(s)-2/
fi
</pre>

<p>
Dans la forme suivante, la suite <i>commande(s)-1</i> est exécutée si la
<i>condition-1</i> est vraie. Si la <i>condition-1</i> est fausse mais que la
<i>condition-2</i> est vraie, la suite <i>commande(s)-2</i> est exécutée. Si les
deux conditions sont fausses, c'est la suite <i>commande(s)-3</i> qui est
exécutée :
</p>

<pre class="example">
if [ /condition-1/ ]
then
/commande(s)-1/
elif [ /condition-2/ ]
then
/commande(s)-2/
else
/commande(s)-3/
fi
</pre>

<p>
Avec « et » :
</p>

<pre class="example">
if [ /condition1/ -a /condition2/ ]
then
/commande/
fi
</pre>

<p>
Avec « ou » :
</p>

<pre class="example">
if [ /condition1/ -o /condition2/ ]
then
/commande/
fi
</pre>

<p>
Avec « et » sur des commandes :
</p>

<pre class="example">
if /commande1/ &amp;&amp; /commande2/
then
/commande/
fi
</pre>

<p>
Avec « ou » sur des commandes :
</p>

<pre class="example">
if /commande1/ || /commande2/
then
/commande/
fi
</pre>
</div>
</div>


<div id="outline-container-org77d8c52" class="outline-4">
<h4 id="org77d8c52"><span class="section-number-4">1.17.3</span> Structure case</h4>
<div class="outline-text-4" id="text-1-17-3">
<p>
La structure <b>case</b> compare une variable avec une série de motifs de
type globbing. Au premier motif qui correspond avec le contenu de la
variable, les commandes correspondantes sont exécutées et le shell
sort de la structure. La forme générique est :
</p>

<pre class="example">
case /variable/ in
/motif-1/) /commande(s)-1/ ;;
/motif-2/) /commande(s)-2/ ;;
...
/motif-N/) /commande(s)-N/ ;;
esac
</pre>

<p>
Un motif du type :
</p>

<pre class="example">
/motif-1/ | /motif-2/ )
</pre>

<p>
correspondra avec la variable si <i>motif-1</i>
ou <i>motif-2</i> correspond
</p>

<p>
Cet exemple applique une série de commandes dans le cas
où la variable contient un nom de fichier html ou php
et une autre série de commandes dans le cas contraire :
</p>

<pre class="example">
case /variable/ in
*.html | *.php) /commande(s)-1/ ;;
*) /commande(s)-2/ ;;
esac
</pre>
</div>
</div>


<div id="outline-container-orga341a04" class="outline-4">
<h4 id="orga341a04"><span class="section-number-4">1.17.4</span> Boucle for</h4>
<div class="outline-text-4" id="text-1-17-4">
<p>
La boucle <b>for</b> applique une même opération à tous
les éléments d'une liste. La forme générique est :
</p>

<pre class="example">
for /variable/ in /liste/
do
... $/variable/ ...
done
</pre>

<p>
Si aucune liste, n'est donnée, la boucle sera appliquée à $1, $2, $3, etc.
Ainsi :
</p>

<pre class="example">
for /variable/
do
... $/variable/ ...
done
</pre>

<p>
est équivalent à :
</p>

<pre class="example">
for /variable/ in $1 $2 $3 ...
do
... $/variable/ ...
done
</pre>

<p>
Exemple : appliquer la même opération à une liste de valeurs données :
</p>

<pre class="example">
for /variable/ in /val1 val2 ... valN/
do
... $/variable/ ...
done
</pre>

<p>
Exemple : appliquer la même opération à tous les fichiers d'un répertoire :
</p>

<pre class="example">
for /fichier/ in *
do
/commande/ $/fichier/
done
</pre>

<p>
Exemple : appliquer la même opération à tous les fichiers se terminant
par .ogg :
</p>

<pre class="example">
for /fichier/ in */.ogg/
do
/commande/ $/fichier/
done
</pre>
</div>
</div>


<div id="outline-container-org9e3e894" class="outline-4">
<h4 id="org9e3e894"><span class="section-number-4">1.17.5</span> Boucle while</h4>
<div class="outline-text-4" id="text-1-17-5">
<p>
La boucle <b>while</b> exécute une même série de commandes jusqu'au moment
où une condition devient fausse. Cette boucle dispose d'une entrée et
d'une sortie standard. La forme générique est :
</p>

<pre class="example">
while /condition/
do
/commande/
done
</pre>

<p>
On peut appliquer une même commande à chaque ligne d'un fichier, il
suffit de rediriger l'entrée standard d'une boucle while vers ce
fichier :
</p>

<pre class="example">
while read /ligne/
do
/commande/ $/ligne/
done &lt; /fichier/
</pre>

<p>
On peut également rediriger la sortie de la boucle :
</p>

<pre class="example">
while read /ligne/
do
/commande/ $/ligne/
done &lt; /fichier/ &gt; /sortie/
</pre>

<p>
On peut appliquer une même commande <i>commande2</i>
à chaque ligne de la sortie d'une autre commande
<i>commande1</i>, il suffit de rediriger l'entrée standard
de <i>commande1</i> vers une boucle while :
</p>

<pre class="example">
/commande1/ | while read /ligne/
do
/commande2/ $/ligne/
done
</pre>
</div>
</div>


<div id="outline-container-orgdb86914" class="outline-4">
<h4 id="orgdb86914"><span class="section-number-4">1.17.6</span> Break et continue</h4>
<div class="outline-text-4" id="text-1-17-6">
<p>
L'instruction <b>break</b> sert à sortir d'une
boucle for ou while.
</p>

<p>
L'instruction <b>continue</b> sert à aller directement
à la prochaine itération d'une boucle for ou while.
</p>
</div>
</div>
</div>


<div id="outline-container-org4eb51c3" class="outline-3">
<h3 id="org4eb51c3"><span class="section-number-3">1.18</span> Abréviations</h3>
<div class="outline-text-3" id="text-1-18">
<p>
Le shell permet de définir des abréviations de commandes. On nomme
<b>alias</b> de telles abréviations.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">alias <i>surnom/=/commande</i></td>
<td class="org-left">Définit un alias pour une commande</td>
</tr>

<tr>
<td class="org-left">alias -g <i>surnom/=/nom</i></td>
<td class="org-left">Alias global d'une commande, d'un fichier ou autre</td>
</tr>

<tr>
<td class="org-left">alias -s <i>suffixe/=/application</i></td>
<td class="org-left">.//nom/./suffixe/ correspondra à : 	 <i>application</i> <i>nom</i>./suffixe/</td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-org2574a92" class="outline-4">
<h4 id="org2574a92"><span class="section-number-4">1.18.1</span> Répertoires nommés</h4>
<div class="outline-text-4" id="text-1-18-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">hash -d <i>nom/=/chemin</i></td>
<td class="org-left">Définit un répertoire nommé</td>
</tr>

<tr>
<td class="org-left">cd ~/nom/</td>
<td class="org-left">Se déplace vers un répertoire nommé</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org8b51bdb" class="outline-3">
<h3 id="org8b51bdb"><span class="section-number-3">1.19</span> Édition de la ligne de commande</h3>
<div class="outline-text-3" id="text-1-19">
</div>
<div id="outline-container-org4dcb582" class="outline-4">
<h4 id="org4dcb582"><span class="section-number-4">1.19.1</span> Fonctions d'éditions et combinaisons</h4>
<div class="outline-text-4" id="text-1-19-1">
<p>
Les combinaisons de touches permettant d'éditer la ligne de
commande sont associées à des fonctions d'édition via l'instruction
« bindkey » :
</p>

<pre class="example">
bindkey /combinaison/ /fonction-edition/
</pre>
</div>


<div id="outline-container-org5736074" class="outline-5">
<h5 id="org5736074"><span class="section-number-5">1.19.1.1</span> Personnalisées</h5>
<div class="outline-text-5" id="text-1-19-1-1">
<p>
On peut créer une fonction personnalisées (voir plus loin) et
signaler ensuite à l'éditeur de commande de zsh (zle pour zsh line
editor) que cette fonction est utilisable pour l'édition via :
</p>

<pre class="example">
zle -N /fonction/
</pre>

<p>
Il ne reste plus alors qu'à associer cette fonction à une combinaison clavier :
</p>

<pre class="example">
bindkey /combinaison/ /fonction/
</pre>

<p>
Il est possible de définir explicitement une fonction personnalisée
dans un des fichiers d'initialisation, comme le zshrc. On peut
aussi utiliser le mécanisme d'autoload permettant le chargement à
la demande. Il faut alors sauver le corps de cette fonction dans un
fichier portant son nom. Ce fichier devra être alors situé dans un des
répertoires de la variable « fpath ». On charge
ensuite cette fonction par :
</p>

<pre class="example">
autoload -U /fonction/
</pre>
</div>
</div>


<div id="outline-container-orgecf93bf" class="outline-5">
<h5 id="orgecf93bf"><span class="section-number-5">1.19.1.2</span> Action quelconque</h5>
<div class="outline-text-5" id="text-1-19-1-2">
<p>
Il existe bien entendu de nombreuses combinaisons par défaut, dont
certaines sont décrites dans la suite de cette section. Dans le cas où aucune combinaison n'est associée à une fonction particulière, où qu'on ne s'en rappelle plus, il est possible d'accéder à cette fonction par son nom, au moyen de l'instruction :
</p>

<pre class="example">
&lt;alt x&gt;
</pre>

<p>
ou :
</p>

<pre class="example">
&lt;esc&gt; x
</pre>

<p>
Cette instruction présente un prompt qui permet d'entrer le nom de
la fonction souhaitée. La complétion y est disponible.
</p>
</div>
</div>


<div id="outline-container-org769a7f8" class="outline-5">
<h5 id="org769a7f8"><span class="section-number-5">1.19.1.3</span> Éditeur</h5>
<div class="outline-text-5" id="text-1-19-1-3">
<p>
Il est possible d'utiliser son éditeur favori (contenu dans les
variables d'environnement $VISUAl ou $EDITOR) pour éditer une ligne de
commande. La configuration suivante :
</p>

<pre class="example">
autoload -U edit-command-line
zle -N edit-command-line
bindkey '\ee' edit-command-line
</pre>

<p>
définit la combinaison « &lt;esc&gt; e »
ou &lt;alt e&gt; comme déclencheur de cette fonction.
</p>
</div>
</div>
</div>


<div id="outline-container-org1563714" class="outline-4">
<h4 id="org1563714"><span class="section-number-4">1.19.2</span> Générique</h4>
<div class="outline-text-4" id="text-1-19-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;ctrl g&gt;</td>
<td class="org-left">Annule la ligne de commande</td>
</tr>

<tr>
<td class="org-left">&lt;alt h&gt;</td>
<td class="org-left">Lance l'aide sur la commande</td>
</tr>

<tr>
<td class="org-left">&lt;esc&gt; h</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&lt;alt '&gt;</td>
<td class="org-left">Place la ligne de commande entre guillements  en utilisant des caractères d'échappement si nécessaire</td>
</tr>

<tr>
<td class="org-left">&lt;esc&gt; '</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org1bf96e9" class="outline-4">
<h4 id="org1bf96e9"><span class="section-number-4">1.19.3</span> Déplacements</h4>
<div class="outline-text-4" id="text-1-19-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;ctrl a&gt;</td>
<td class="org-left">Va au début de la ligne de commande</td>
</tr>

<tr>
<td class="org-left">&lt;home&gt;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl e&gt;</td>
<td class="org-left">Va à la fin de la ligne de commande</td>
</tr>

<tr>
<td class="org-left">&lt;end&gt;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&lt;alt f&gt;</td>
<td class="org-left">Avance d'un mot dans la ligne de commande</td>
</tr>

<tr>
<td class="org-left">&lt;esc&gt; f</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&lt;alt b&gt;</td>
<td class="org-left">Recule d'un mot dans la ligne de commande</td>
</tr>

<tr>
<td class="org-left">&lt;esc&gt; b</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl f&gt;</td>
<td class="org-left">Avance d'un caractère</td>
</tr>

<tr>
<td class="org-left">&lt;right&gt;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl b&gt;</td>
<td class="org-left">Recule d'un caractère</td>
</tr>

<tr>
<td class="org-left">&lt;left&gt;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgece9674" class="outline-4">
<h4 id="orgece9674"><span class="section-number-4">1.19.4</span> Modifications</h4>
<div class="outline-text-4" id="text-1-19-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;ctrl u&gt;</td>
<td class="org-left">Supprime la ligne de commande</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl k&gt;</td>
<td class="org-left">Supprime jusqu'à la fin de la ligne</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl w&gt;</td>
<td class="org-left">Supprime le mot précédant le curseur</td>
</tr>

<tr>
<td class="org-left">&lt;alt d&gt;</td>
<td class="org-left">Supprime jusqu'à la fin du mot</td>
</tr>

<tr>
<td class="org-left">&lt;esc&gt; d</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&lt;alt t&gt;</td>
<td class="org-left">Échange les deux derniers mots</td>
</tr>

<tr>
<td class="org-left">&lt;esc&gt; t</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org8b580f2" class="outline-4">
<h4 id="org8b580f2"><span class="section-number-4">1.19.5</span> Copier, coller</h4>
<div class="outline-text-4" id="text-1-19-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;ctrl @&gt;</td>
<td class="org-left">Place la marque à l'endroit du curseur</td>
</tr>

<tr>
<td class="org-left">&lt;alt w&gt;</td>
<td class="org-left">Copie la région de la marque au curseur</td>
</tr>

<tr>
<td class="org-left">&lt;esc&gt; w</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl y&gt;</td>
<td class="org-left">Colle le dernier texte copié ou supprimé</td>
</tr>

<tr>
<td class="org-left">&lt;alt y&gt;</td>
<td class="org-left">Après un collage, va en arrière  dans la pile des textes supprimés</td>
</tr>

<tr>
<td class="org-left">&lt;shift ins&gt;</td>
<td class="org-left">Colle le contenu du presse-papier</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org6d99abd" class="outline-4">
<h4 id="org6d99abd"><span class="section-number-4">1.19.6</span> Répétitions</h4>
<div class="outline-text-4" id="text-1-19-6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;alt a&gt;</td>
<td class="org-left">Exécute la ligne et l'affiche à nouveau</td>
</tr>

<tr>
<td class="org-left">&lt;esc&gt; a</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgf86ece4" class="outline-4">
<h4 id="orgf86ece4"><span class="section-number-4">1.19.7</span> Annulation</h4>
<div class="outline-text-4" id="text-1-19-7">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;ctrl x&gt; u</td>
<td class="org-left">Annule la dernière action</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgfda7829" class="outline-4">
<h4 id="orgfda7829"><span class="section-number-4">1.19.8</span> Pile</h4>
<div class="outline-text-4" id="text-1-19-8">
<p>
La fonction d'édition « push-line-or-edit », associée
par défaut à la combinaison :
</p>

<pre class="example">
&lt;alt q&gt;
</pre>

<p>
ou :
</p>

<pre class="example">
&lt;esc&gt; q
</pre>

<p>
place la ligne de commande en cours d'édition sur une pile, puis
l'efface pour permettre d'entrer une autre ligne de commande. Une fois
cette autre ligne entrée et exécutée, la commande antérieure est
retirée de la pile et affichée à nouveau.
</p>

<p>
On peut ajouter plusieurs lignes successives dans la pile en utilisant
« &lt;alt q&gt; » plusieurs fois de suite. Dès qu'une commande entrée est
exécutée de façon classique avec « &lt;Return&gt; », la ligne la plus haute
dans la pile (si cette dernière n'est pas vide) est retirée et
affichée.
</p>
</div>
</div>


<div id="outline-container-orgd082297" class="outline-4">
<h4 id="orgd082297"><span class="section-number-4">1.19.9</span> Correction</h4>
<div class="outline-text-4" id="text-1-19-9">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;ctrl x&gt; c</td>
<td class="org-left">Propose des corrections du mot courant</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org978114a" class="outline-4">
<h4 id="org978114a"><span class="section-number-4">1.19.10</span> Échappement</h4>
<div class="outline-text-4" id="text-1-19-10">
<p>
La combinaison &lt;ctrl v&gt; permet d'écrire littéralement
une touche ou une combinaison de touches ayant un effet spécial.
Par exemple, la suite :
</p>

<pre class="example">
&lt;ctrl v&gt; &lt;ctrl u&gt;
</pre>

<p>
affichera le caractère &lt;ctrl u&gt; sous la forme ^U,
sans l'effet habituel qui efface la ligne de commande.
</p>
</div>
</div>
</div>


<div id="outline-container-orgec4ac6e" class="outline-3">
<h3 id="orgec4ac6e"><span class="section-number-3">1.20</span> Complétion</h3>
<div class="outline-text-3" id="text-1-20">
<p>
La complétion permet de compléter les débuts de mots dans
les lignes de commandes en utilisant les possibilités disponibles.
</p>
</div>


<div id="outline-container-orge69cd92" class="outline-4">
<h4 id="orge69cd92"><span class="section-number-4">1.20.1</span> Options</h4>
<div class="outline-text-4" id="text-1-20-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">autoload -U compinit compinit</td>
<td class="org-left">Complétion</td>
</tr>

<tr>
<td class="org-left">setopt autolist  setopt listtypes</td>
<td class="org-left">Complétion avancée</td>
</tr>

<tr>
<td class="org-left">setopt automenu setopt completeinword</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">setopt alwaystoend</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org4d2eb3c" class="outline-4">
<h4 id="org4d2eb3c"><span class="section-number-4">1.20.2</span> Fonctionnement</h4>
<div class="outline-text-4" id="text-1-20-2">
<p>
La touche activant la complétion est simplement la tabulation.
Elle agit de différentes façons suivant le contexte :
</p>

<ul class="org-ul">
<li>Si le mot en cours peut être complété partiellement ou totalement 	 de façon non ambiguë, la tabulation complète le mot</li>
<li>Si il existe plusieurs solutions possible, la tabulation les affiche</li>
<li>Si les solutions sont déjà affichées, la tabulation permet d'accéder 	 au menu</li>
</ul>

<p>
Petit exemple, dans un répertoire qui contient bidule.html et bidule.tex.
Si on tape :
</p>

<pre class="example">
ls bid
</pre>

<p>
une première tabulation complètera la partie non ambiguë :
</p>

<pre class="example">
ls bidule
</pre>

<p>
Une deuxième tabulation affichera les solutions :
</p>

<pre class="example">
bidule.html bidule.tex
</pre>

<p>
et une troisième tabulation accèdera au menu correspondant,
permettant de sélectionner la solution désirée.
</p>

<p>
<i>Remarque :</i> ce comportement peut changer suivant les options,
mais l'idée générale reste la même.
</p>
</div>
</div>


<div id="outline-container-orgb59a0fd" class="outline-4">
<h4 id="orgb59a0fd"><span class="section-number-4">1.20.3</span> Combinaisons</h4>
<div class="outline-text-4" id="text-1-20-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;tab&gt;</td>
<td class="org-left">Complétion standard</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl d&gt;</td>
<td class="org-left">Liste les choix possibles</td>
</tr>

<tr>
<td class="org-left">&lt;alt ,&gt;</td>
<td class="org-left">Complète par les mots de l'historique</td>
</tr>

<tr>
<td class="org-left">&lt;alt .&gt;</td>
<td class="org-left">Insère le dernier mot de la commande précédente</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgdbba8c7" class="outline-4">
<h4 id="orgdbba8c7"><span class="section-number-4">1.20.4</span> Personnalisation</h4>
<div class="outline-text-4" id="text-1-20-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">fignore=(<i>liste des suffixes</i>)</td>
<td class="org-left">Suffixes à ignorer lors de la complétion</td>
</tr>

<tr>
<td class="org-left">compctl -k (<i>liste d'arguments) /commande</i></td>
<td class="org-left">La complétion après <i>commande</i> sera choisie</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">dans la liste d'arguments</td>
</tr>

<tr>
<td class="org-left">compctl -g '<i>motif</i>' <i>commande</i></td>
<td class="org-left">La complétion après <i>commande</i> sera choisie</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">parmi les fichiers correspondant au motif</td>
</tr>

<tr>
<td class="org-left">compctl -s '$(<i>comListe</i>)' <i>commande</i></td>
<td class="org-left">La complétion après <i>commande</i> sera choisie</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">dans la liste correspondant à la sortie de <i>comListe</i></td>
</tr>

<tr>
<td class="org-left">compctl -f <i>commande</i></td>
<td class="org-left">La complétion après <i>commande</i> sera choisie parmi les fichiers</td>
</tr>

<tr>
<td class="org-left">compctl -c <i>commande</i></td>
<td class="org-left">La complétion après <i>commande</i> sera choisie parmi les commandes</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org11f9104" class="outline-3">
<h3 id="org11f9104"><span class="section-number-3">1.21</span> Historique des commandes</h3>
<div class="outline-text-3" id="text-1-21">
</div>
<div id="outline-container-org371a6bc" class="outline-4">
<h4 id="org371a6bc"><span class="section-number-4">1.21.1</span> Options</h4>
<div class="outline-text-4" id="text-1-21-1">
<p>
Avec ces options :
</p>

<pre class="example">
bindkey '/codeToucheUp/' history-beginning-search-backward
bindkey '/codeToucheDown/' history-beginning-search-forward
</pre>

<p>
les flèches haut et bas donnent accès à l'historique des commandes
correspondant à la partie déjà frappée. Par exemple, si l'historique
contient :
</p>

<pre class="example">
ls bidule
ls -l tutu
pwd
ls -l toto
ls machin
cd repertoire
</pre>

<p>
et que l'on tape :
</p>

<pre class="example">
ls -l (flèches vers le haut)
</pre>

<p>
on aura accès sucessivement à :
</p>

<pre class="example">
ls -l toto
ls -l tutu
</pre>

<p>
Les codes des touches dépendent du type de terminal.
Ils s'obtiennent par :
</p>

<pre class="example">
&lt;ctrl v&gt; &lt;up&gt;
&lt;ctrl v&gt; &lt;down&gt;
</pre>
</div>
</div>


<div id="outline-container-orgc57aa82" class="outline-4">
<h4 id="orgc57aa82"><span class="section-number-4">1.21.2</span> Commandes</h4>
<div class="outline-text-4" id="text-1-21-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">fc -l <i>N1</i> <i>N2</i></td>
<td class="org-left">Liste de l'historique du numéro <i>N1</i> à <i>N2</i></td>
</tr>

<tr>
<td class="org-left">&lt;ctrl p&gt;</td>
<td class="org-left">Affiche la commande précédente</td>
</tr>

<tr>
<td class="org-left">&lt;up&gt;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl n&gt;</td>
<td class="org-left">Affiche la commande suivante</td>
</tr>

<tr>
<td class="org-left">&lt;down&gt;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl o&gt;</td>
<td class="org-left">Exécute la ligne et affiche  la ligne suivante dans l'historique</td>
</tr>

<tr>
<td class="org-left">!/N/</td>
<td class="org-left">Ligne de commande numéro <i>N</i> de l'historique</td>
</tr>

<tr>
<td class="org-left">!-<i>N</i></td>
<td class="org-left"><i>N</i> lignes de commandes avant</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org24c96d7" class="outline-4">
<h4 id="org24c96d7"><span class="section-number-4">1.21.3</span> Recherche</h4>
<div class="outline-text-4" id="text-1-21-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;ctrl r&gt;</td>
<td class="org-left">Recherche d'une commande en arrière dans le temps</td>
</tr>

<tr>
<td class="org-left">En mode recherche, aller à l'occurence précédente</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl x&gt; r</td>
<td class="org-left">Recherche d'une commande en arrière dans le temps</td>
</tr>

<tr>
<td class="org-left">En mode recherche, aller à l'occurence précédente</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl x&gt; s</td>
<td class="org-left">Recherche d'une commande en avant dans le temps</td>
</tr>

<tr>
<td class="org-left">En mode recherche, aller à l'occurence suivante</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">!/motif/</td>
<td class="org-left">Commande précédente commençant par le motif</td>
</tr>

<tr>
<td class="org-left">!?/motif/?</td>
<td class="org-left">Commande précédente contenant par le motif</td>
</tr>

<tr>
<td class="org-left">!%</td>
<td class="org-left">Dernier motif de recherche</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org888eeea" class="outline-4">
<h4 id="org888eeea"><span class="section-number-4">1.21.4</span> Complétion</h4>
<div class="outline-text-4" id="text-1-21-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;alt p&gt;</td>
<td class="org-left">Complétion du premier mot par la ligne de commande    précédente dans l'historique</td>
</tr>

<tr>
<td class="org-left">&lt;esc&gt; p  </td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
<p>
 &lt;td&gt;&lt;alt n&gt;&lt;/td&gt;
 &lt;td&gt;Complétion du premier mot par la ligne de commande
	 suivante dans l'historique&lt;/td&gt;
&lt;/tr&gt;
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;esc&gt; n</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgc757354" class="outline-4">
<h4 id="orgc757354"><span class="section-number-4">1.21.5</span> Arguments</h4>
<div class="outline-text-4" id="text-1-21-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">!/N/:0</td>
<td class="org-left">Ligne de commande numéro <i>N</i> de l'historique,  argument 0 (début de ligne, commande)</td>
</tr>

<tr>
<td class="org-left">!/N/:/I/</td>
<td class="org-left">Ligne de commande numéro <i>N</i> de l'historique,  /I/&lt;sup&gt;ème&lt;/sup&gt; argument</td>
</tr>

<tr>
<td class="org-left">!/N/:$</td>
<td class="org-left">Ligne de commande numéro <i>N</i> de l'historique,  dernier argument (fin de ligne)</td>
</tr>

<tr>
<td class="org-left">!/N/:/I/-<i>J</i></td>
<td class="org-left">Ligne de commande numéro <i>N</i> de l'historique,  du /I/&lt;sup&gt;ème&lt;/sup&gt; au /J/&lt;sup&gt;ème&lt;/sup&gt; argument</td>
</tr>

<tr>
<td class="org-left">!/N/:*</td>
<td class="org-left">Équivalent à !/N/:1-$</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgc468484" class="outline-4">
<h4 id="orgc468484"><span class="section-number-4">1.21.6</span> Modificateurs</h4>
<div class="outline-text-4" id="text-1-21-6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">!/N/:s//motif1///motif2//</td>
<td class="org-left">Ligne de commande numéro <i>N</i> de l'historique,  avec <i>motif1</i> remplacé par <i>motif2</i></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org0342255" class="outline-4">
<h4 id="org0342255"><span class="section-number-4">1.21.7</span> Dernière commande</h4>
<div class="outline-text-4" id="text-1-21-7">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">!!</td>
<td class="org-left">Dernière ligne de commande,  équivalent à !-1</td>
</tr>

<tr>
<td class="org-left">!:/I/</td>
<td class="org-left">Dernier (<i>I</i> + 1)&lt;sup&gt;ème&lt;/sup&gt; mot</td>
</tr>

<tr>
<td class="org-left">!!:s//motif1///motif2//</td>
<td class="org-left">Dernière ligne de commande,  avec <i>motif1</i> remplacé par <i>motif2</i></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org87c6a02" class="outline-4">
<h4 id="org87c6a02"><span class="section-number-4">1.21.8</span> Édition</h4>
<div class="outline-text-4" id="text-1-21-8">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">fc</td>
<td class="org-left">Lance un éditeur sur la dernière commande</td>
</tr>

<tr>
<td class="org-left">fc <i>mot</i></td>
<td class="org-left">Lance un éditeur sur la dernière ligne de commande  commençant par <i>mot</i></td>
</tr>

<tr>
<td class="org-left">fc <i>avant/=/après</i> <i>mot</i></td>
<td class="org-left">Lance un éditeur sur la dernière ligne de commande 		commençant par <i>mot</i>, en modifiant chaque occurence  de <i>avant</i> par <i>après</i></td>
</tr>

<tr>
<td class="org-left">fc <i>N</i></td>
<td class="org-left">Lance un éditeur sur la commande <i>N</i> de l'historique</td>
</tr>

<tr>
<td class="org-left">vared <i>variable</i></td>
<td class="org-left">Édition d'une variable, les modifications  sont enregistrées lorsqu'on fait &lt;Return&gt;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-orgccf255d" class="outline-3">
<h3 id="orgccf255d"><span class="section-number-3">1.22</span> Conventions</h3>
<div class="outline-text-3" id="text-1-22">
<p>
Ces conventions ne fonctionnent pas pour toutes les commandes,
mais de nombreuses commandes les respectent.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>commande</i> -<i>lettre</i></td>
<td class="org-left">Option courte</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><i>commande</i> --<i>chaine</i></td>
<td class="org-left">Option longue</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><i>commande</i> -</td>
<td class="org-left">Le tiret « - » demande à une commande d'aller  chercher son entrée sur l'entrée standard</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><i>commande1</i></td>
<td class="org-left"><i>commande2</i> -</td>
<td class="org-left">Demande à la seconde commande d'aller chercher  son entrée à la sortie de la première commande</td>
</tr>

<tr>
<td class="org-left"><i>commande</i> <i>options</i> &#x2013; <i>fichiers</i></td>
<td class="org-left">&#x2013; Signale la fin des options  Utile lorsqu'un nom de fichier commence par - ou --</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-orgefa0577" class="outline-2">
<h2 id="orgefa0577"><span class="section-number-2">2</span> Bash</h2>
<div class="outline-text-2" id="text-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;Ctrl-X&gt; &lt;Ctrl-E&gt;</td>
<td class="org-left">Édite la commande dans un éditeur</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org458ae95" class="outline-2">
<h2 id="org458ae95"><span class="section-number-2">3</span> Expressions régulieres</h2>
<div class="outline-text-2" id="text-3">
<div id="text-table-of-contents">
<ul>
<li><a href="#orge8cf7c2">3.1. Généralites</a></li>
<li><a href="#org484d7fb">3.2. Caractères</a></li>
<li><a href="#org87cbc5f">3.3. Groupes de caractères</a></li>
<li><a href="#orgd549ed6">3.4. Frontières</a></li>
<li><a href="#org645417a">3.5. Quantités</a></li>
<li><a href="#orgdf92884">3.6. Rétro-références</a></li>
</ul>
</div>
</div>


<div id="outline-container-orge8cf7c2" class="outline-3">
<h3 id="orge8cf7c2"><span class="section-number-3">3.1</span> Généralites</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Les expressions régulières permettent de faire des recherches et
substitutions évoluées. Par défaut, une expression régulière essaie
d'englober un maximum de caractères.
</p>
</div>
</div>


<div id="outline-container-org484d7fb" class="outline-3">
<h3 id="org484d7fb"><span class="section-number-3">3.2</span> Caractères</h3>
<div class="outline-text-3" id="text-3-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>caractère</i></td>
<td class="org-left">Correspond à un caractère ordinaire</td>
</tr>

<tr>
<td class="org-left">\/caractère/</td>
<td class="org-left">Correspond à un caractère ayant  autrement une signification particulière</td>
</tr>

<tr>
<td class="org-left">\.</td>
<td class="org-left">Point « . »</td>
</tr>

<tr>
<td class="org-left">\[</td>
<td class="org-left">Crochet « [ »</td>
</tr>

<tr>
<td class="org-left">\]</td>
<td class="org-left">Crochet « ] »</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org87cbc5f" class="outline-3">
<h3 id="org87cbc5f"><span class="section-number-3">3.3</span> Groupes de caractères</h3>
<div class="outline-text-3" id="text-3-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">.</td>
<td class="org-left">N'importe quel caractère, sauf fin de ligne</td>
</tr>

<tr>
<td class="org-left">[/groupe de caractères/]</td>
<td class="org-left">N'importe quel caractère du groupe</td>
</tr>

<tr>
<td class="org-left">[^/groupe de caractères/]</td>
<td class="org-left">N'importe quel caractère tant qu'il</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">n'appartient pas au groupe et n'est pas</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">une fin de ligne</td>
</tr>

<tr>
<td class="org-left">[/A/-/Z/]</td>
<td class="org-left">Caractères entre <i>A</i> et <i>Z</i></td>
</tr>

<tr>
<td class="org-left">[0-9]</td>
<td class="org-left">Chiffres</td>
</tr>

<tr>
<td class="org-left">[A-Z]</td>
<td class="org-left">Majuscules</td>
</tr>

<tr>
<td class="org-left">[a-z]</td>
<td class="org-left">Minuscules</td>
</tr>

<tr>
<td class="org-left">[0-z]</td>
<td class="org-left">Alphanumériques</td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-org0c22736" class="outline-4">
<h4 id="org0c22736"><span class="section-number-4">3.3.1</span> Expressions étendues</h4>
<div class="outline-text-4" id="text-3-3-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">(<i>motif1</i></td>
<td class="org-left"><i>motif2</i>)</td>
<td class="org-left"><i>motif1</i> ou <i>motif2</i></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-orgd549ed6" class="outline-3">
<h3 id="orgd549ed6"><span class="section-number-3">3.4</span> Frontières</h3>
<div class="outline-text-3" id="text-3-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">^</td>
<td class="org-left">Début de ligne</td>
</tr>

<tr>
<td class="org-left">$</td>
<td class="org-left">Fin de ligne</td>
</tr>

<tr>
<td class="org-left">\&lt;</td>
<td class="org-left">Début de mot</td>
</tr>

<tr>
<td class="org-left">\&gt;</td>
<td class="org-left">Fin de mot</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org645417a" class="outline-3">
<h3 id="org645417a"><span class="section-number-3">3.5</span> Quantités</h3>
<div class="outline-text-3" id="text-3-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">/x/*</td>
<td class="org-left">0 ou plus d'occurence(s) de <i>x</i></td>
</tr>

<tr>
<td class="org-left"><i>x</i>\{<i>N</i>\}</td>
<td class="org-left">Exactement <i>N</i> occurences de <i>x</i></td>
</tr>

<tr>
<td class="org-left"><i>x</i>\{<i>M</i>, <i>N</i>\}</td>
<td class="org-left">Entre <i>M</i> et <i>N</i> occurences de <i>x</i></td>
</tr>

<tr>
<td class="org-left"><i>x</i>\{<i>M</i>, \}</td>
<td class="org-left">Au moins <i>M</i> occurences de <i>x</i></td>
</tr>

<tr>
<td class="org-left"><i>x</i>\{,/N/\}</td>
<td class="org-left">Au plus <i>N</i> occurences de <i>x</i></td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-org27590bf" class="outline-4">
<h4 id="org27590bf"><span class="section-number-4">3.5.1</span> Expressions étendues</h4>
<div class="outline-text-4" id="text-3-5-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>x</i>?</td>
<td class="org-left">0 ou 1 occurence de <i>x</i></td>
</tr>

<tr>
<td class="org-left">/x/+</td>
<td class="org-left">1 ou plus d'occurence(s) de <i>x</i></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-orgdf92884" class="outline-3">
<h3 id="orgdf92884"><span class="section-number-3">3.6</span> Rétro-références</h3>
<div class="outline-text-3" id="text-3-6">
<p>
Les rétro-références peuvent être utilisées dans :
</p>

<ul class="org-ul">
<li>les remplacements si le motif modifié dépend du motif initial</li>
<li>les motifs où des sous-motifs doivent être répétés</li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&amp;</td>
<td class="org-left">Fait référence au dernier motif rencontré</td>
</tr>

<tr>
<td class="org-left">\(/...../\)</td>
<td class="org-left">Permettent d'isoler un sous-motif</td>
</tr>

<tr>
<td class="org-left">\/N/</td>
<td class="org-left">Fait référence au <i>N/&lt;sup&gt;ème&lt;/sup&gt; sous-motif désigné  par des parenthèses : \(/sousMotif</i>\)</td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-org9e69ab1" class="outline-4">
<h4 id="org9e69ab1"><span class="section-number-4">3.6.1</span> Expressions étendues</h4>
<div class="outline-text-4" id="text-3-6-1">
<p>
Dans les expressions régulières étendues, les parenthèses
isolant les sous-motifs ne sont pas précédées par des backslashs \ :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">(<i>&#x2026;..</i>)</td>
<td class="org-left">Permettent d'isoler un sous-motif</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>


<div id="outline-container-orgc215aba" class="outline-2">
<h2 id="orgc215aba"><span class="section-number-2">4</span> Sed</h2>
<div class="outline-text-2" id="text-4">
<div id="text-table-of-contents">
<ul>
<li><a href="#org93dc439">4.1. Structure</a></li>
<li><a href="#org88fd5c9">4.2. Conditions</a></li>
<li><a href="#org3020e0a">4.3. Affichage</a></li>
<li><a href="#org74d6ac9">4.4. Écriture dans un fichier</a></li>
<li><a href="#org950ea80">4.5. Suppression</a></li>
<li><a href="#org756ad7f">4.6. Quitter</a></li>
<li><a href="#org7bd2e07">4.7. Shell</a></li>
<li><a href="#orge65b6af">4.8. Translittération</a></li>
<li><a href="#org125e06f">4.9. Substitution</a></li>
<li><a href="#orgf8d9065">4.10. Insertion</a></li>
<li><a href="#org8ce14e0">4.11. Modifications</a></li>
<li><a href="#org49c6202">4.12. Multi-lignes</a></li>
<li><a href="#org554d16b">4.13. Mémoire annexe</a></li>
<li><a href="#orgac6bc2e">4.14. Étiquettes</a></li>
</ul>
</div>
</div>


<div id="outline-container-org93dc439" class="outline-3">
<h3 id="org93dc439"><span class="section-number-3">4.1</span> Structure</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Sed signifie « stream editor », éditeur de flux. Il permet de modifier
un flux de texte, en opèrant ligne par ligne et en utilisant entrée et
sortie standard.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">sed '<i>commandeSed</i>'</td>
<td class="org-left">Sed en mode bavard, affiche toutes les lignes</td>
</tr>

<tr>
<td class="org-left">sed -n '<i>commandeSed</i>'</td>
<td class="org-left">Sed en mode silencieux, n'affiche que sur demande</td>
</tr>
</tbody>
</table>

<p>
Une commande sed se décompose généralement en une condition
restrictive suivie d'une ou plusieurs instructions. Les accolades
permettent de grouper des instructions sur une même condition.
Lorsqu'il y a plus d'une instruction par ligne, on les sépare par des
points-virgules :
</p>

<pre class="example">
'/condition/ { /instruction-1/ ; /instruction-2/ ; /.../ }'
</pre>

<p>
Dans les scripts, on dispose généralement une instruction par ligne :
</p>

<pre class="example">
#!/bin/sed -f
/condition-1/ {
/instruction-1-1/
/instruction-2-1/
/.../
}
/condition-2/ {
/instruction-2-1/
/instruction-2-2/
/.../
}
/.../
</pre>
</div>


<div id="outline-container-org6627a46" class="outline-4">
<h4 id="org6627a46"><span class="section-number-4">4.1.1</span> Mode positif</h4>
<div class="outline-text-4" id="text-4-1-1">
<p>
Le mode positif correspond au sed bavard. Il s'utilise en ligne de
commande sous la forme :
</p>

<pre class="example">
sed '/commandeSed/'
</pre>

<p>
ou, dans un script :
</p>

<pre class="example">
#!/bin/sed -f
/commandeSed/
</pre>
</div>
</div>


<div id="outline-container-orgc0defda" class="outline-4">
<h4 id="orgc0defda"><span class="section-number-4">4.1.2</span> Mode négatif</h4>
<div class="outline-text-4" id="text-4-1-2">
<p>
Le mode négatif correspond au sed silencieux.
Il s'utilise en ligne de commande sous la forme :
</p>

<pre class="example">
sed -n '/commandeSed/'
</pre>

<p>
ou, dans un script :
</p>

<pre class="example">
#!/bin/sed -nf
/commandeSed/
</pre>
</div>
</div>


<div id="outline-container-org1c7ec27" class="outline-4">
<h4 id="org1c7ec27"><span class="section-number-4">4.1.3</span> Plusieurs commandes</h4>
<div class="outline-text-4" id="text-4-1-3">
</div>
<div id="outline-container-orgd4a1d89" class="outline-5">
<h5 id="orgd4a1d89"><span class="section-number-5">4.1.3.1</span> Mode positif</h5>
<div class="outline-text-5" id="text-4-1-3-1">
<p>
En ligne de commande :
</p>

<pre class="example">
sed -e '/commande1/' -e '/commande2/'
</pre>

<p>
Dans un script :
</p>

<pre class="example">
#!/bin/sed -f
/commande1/
/commande2/
/...../
</pre>
</div>
</div>


<div id="outline-container-orgd7ca8ae" class="outline-5">
<h5 id="orgd7ca8ae"><span class="section-number-5">4.1.3.2</span> Mode négatif</h5>
<div class="outline-text-5" id="text-4-1-3-2">
<p>
En ligne de commande :
</p>

<pre class="example">
sed -n -e '/commande1/' -e '/commande2/'
</pre>

<p>
Dans un script :
</p>

<pre class="example">
#!/bin/sed -nf
/commande1/
/commande2/
/...../
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org88fd5c9" class="outline-3">
<h3 id="org88fd5c9"><span class="section-number-3">4.2</span> Conditions</h3>
<div class="outline-text-3" id="text-4-2">
</div>
<div id="outline-container-org9889b28" class="outline-4">
<h4 id="org9889b28"><span class="section-number-4">4.2.1</span> Motifs</h4>
<div class="outline-text-4" id="text-4-2-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i><i>motif</i></i></td>
<td class="org-left">Vrai si la ligne contient <i>motif</i></td>
</tr>

<tr>
<td class="org-left">//motif//I</td>
<td class="org-left">Vrai si la ligne contient <i>motif</i>,  insensible à la casse</td>
</tr>

<tr>
<td class="org-left"><i><i>motif1</i></i>,//motif2//</td>
<td class="org-left">Vrai de <i>motif1</i> à <i>motif2</i></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgb6afa4e" class="outline-4">
<h4 id="orgb6afa4e"><span class="section-number-4">4.2.2</span> Numéros de lignes</h4>
<div class="outline-text-4" id="text-4-2-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>N</i></td>
<td class="org-left">Vrai sur la ligne <i>N</i></td>
</tr>

<tr>
<td class="org-left"><i>M</i>,/N/</td>
<td class="org-left">Vrai entre les lignes <i>M</i> à <i>N</i></td>
</tr>

<tr>
<td class="org-left"><i>M/~/N</i></td>
<td class="org-left">Vrai toutes les <i>N</i> lignes  à partir de la ligne <i>M</i></td>
</tr>

<tr>
<td class="org-left"><i>N</i>,$</td>
<td class="org-left">Vrai à partir de la ligne <i>N</i></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org7f4517c" class="outline-4">
<h4 id="org7f4517c"><span class="section-number-4">4.2.3</span> Hybride</h4>
<div class="outline-text-4" id="text-4-2-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>N</i>,//motif//</td>
<td class="org-left">Vrai de la ligne <i>N</i> jusqu'à <i>motif</i></td>
</tr>

<tr>
<td class="org-left"><i><i>motif</i></i>,/N/</td>
<td class="org-left">Vrai de <i>motif</i> jusqu'à la ligne <i>N</i></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org5a9bfc3" class="outline-4">
<h4 id="org5a9bfc3"><span class="section-number-4">4.2.4</span> Négation</h4>
<div class="outline-text-4" id="text-4-2-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i><i>motif</i></i> !</td>
<td class="org-left">Vrai si la ligne ne contient pas <i>motif</i></td>
</tr>

<tr>
<td class="org-left"><i>N</i> !</td>
<td class="org-left">Vrai partout sauf sur la ligne <i>N</i></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org3020e0a" class="outline-3">
<h3 id="org3020e0a"><span class="section-number-3">4.3</span> Affichage</h3>
<div class="outline-text-3" id="text-4-3">
<p>
Voici quelques exemples de commandes sed d'affichage. Elles s'utilisent
généralement en mode <i>négatif</i>.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>M</i>,/N/ p</td>
<td class="org-left">Affiche les lignes <i>M</i> à <i>N</i></td>
</tr>

<tr>
<td class="org-left"><i><i>motif</i></i> p</td>
<td class="org-left">Affiche les lignes contenant <i>motif</i></td>
</tr>

<tr>
<td class="org-left"><i><i>motif1</i></i>,//motif2// p</td>
<td class="org-left">Affiche de <i>motif1</i> à <i>motif2</i></td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-org89c8911" class="outline-4">
<h4 id="org89c8911"><span class="section-number-4">4.3.1</span> Numéros de lignes</h4>
<div class="outline-text-4" id="text-4-3-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">=</td>
<td class="org-left">Affiche le numéro de ligne</td>
</tr>

<tr>
<td class="org-left">= ; p</td>
<td class="org-left">Affiche le numéro de ligne suivi de la ligne</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org74d6ac9" class="outline-3">
<h3 id="org74d6ac9"><span class="section-number-3">4.4</span> Écriture dans un fichier</h3>
<div class="outline-text-3" id="text-4-4">
<p>
La commande :
</p>

<pre class="example">
sed -n '/...../ w /fichier/'
</pre>

<p>
est similaire à :
</p>

<pre class="example">
sed -n '/...../ p'
</pre>

<p>
si ce n'est qu'elle écrit dans <i>fichier</i> au lieu
de la sortie standard. Les commandes d'écriture s'utilisent
généralement en mode <i>négatif</i>.
</p>
</div>
</div>


<div id="outline-container-org950ea80" class="outline-3">
<h3 id="org950ea80"><span class="section-number-3">4.5</span> Suppression</h3>
<div class="outline-text-3" id="text-4-5">
<p>
Voici quelques exemples de commandes sed de suppression. Elles s'utilisent
généralement en mode <i>positif</i>.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>M</i>,/N/ d</td>
<td class="org-left">Supprime les lignes <i>M</i> à <i>N</i></td>
</tr>

<tr>
<td class="org-left"><i><i>motif</i></i> d</td>
<td class="org-left">Supprime les lignes contenant <i>motif</i></td>
</tr>

<tr>
<td class="org-left"><i><i>motif1</i></i>,//motif2// d</td>
<td class="org-left">Supprime de <i>motif1</i> à <i>motif2</i></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org756ad7f" class="outline-3">
<h3 id="org756ad7f"><span class="section-number-3">4.6</span> Quitter</h3>
<div class="outline-text-3" id="text-4-6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>N</i> q</td>
<td class="org-left">Quitte à la ligne <i>N</i></td>
</tr>

<tr>
<td class="org-left"><i><i>motif</i></i> q</td>
<td class="org-left">Quitte dès que <i>motif</i> est rencontré</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org7bd2e07" class="outline-3">
<h3 id="org7bd2e07"><span class="section-number-3">4.7</span> Shell</h3>
<div class="outline-text-3" id="text-4-7">
<p>
Voici quelques exemples de commandes sed permettant
de faire exécuter certaines lignes par le shell. Elles s'utilisent
généralement en mode <i>positif</i>.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>M</i>,/N/ e</td>
<td class="org-left">Exécute les lignes <i>M</i> à <i>N</i></td>
</tr>

<tr>
<td class="org-left"><i><i>motif</i></i> e</td>
<td class="org-left">Exécute les lignes contenant <i>motif</i></td>
</tr>

<tr>
<td class="org-left"><i><i>motif1</i></i>,//motif2// e</td>
<td class="org-left">Exécute de <i>motif1</i> à <i>motif2</i></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orge65b6af" class="outline-3">
<h3 id="orge65b6af"><span class="section-number-3">4.8</span> Translittération</h3>
<div class="outline-text-3" id="text-4-8">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">y//groupe1///groupe2//</td>
<td class="org-left">Remplace chaque caractère de <i>groupe1</i>  par son correspondant dans <i>groupe2</i></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org125e06f" class="outline-3">
<h3 id="org125e06f"><span class="section-number-3">4.9</span> Substitution</h3>
<div class="outline-text-3" id="text-4-9">
<p>
Voici les commandes sed de substitution. Elles s'utilisent en mode
<i>positif</i> lorsqu'on souhaite afficher également les lignes non substituées :
</p>

<pre class="example">
sed '/...../ s//motif1///motif2// /...../'
</pre>

<p>
ou en mode <i>négatif</i> si on désire un affichage sélectif :
</p>

<pre class="example">
sed -n '/...../ s//motif1///motif2//p /...../'
</pre>
</div>


<div id="outline-container-org17d7040" class="outline-4">
<h4 id="org17d7040"><span class="section-number-4">4.9.1</span> Mode positif</h4>
<div class="outline-text-4" id="text-4-9-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">s//motif1///motif2//</td>
<td class="org-left">Remplace la première occurence de <i>motif1</i> par <i>motif2</i></td>
</tr>

<tr>
<td class="org-left">s//motif1///motif2///N/</td>
<td class="org-left">Remplace la <i>N/&lt;sup&gt;ème&lt;/sup&gt; occurence de /motif1</i> par <i>motif2</i></td>
</tr>

<tr>
<td class="org-left">s//motif1///motif2//g</td>
<td class="org-left">Remplace chaque occurence de <i>motif1</i> par <i>motif2</i></td>
</tr>

<tr>
<td class="org-left">s//motif1///motif2///N/g</td>
<td class="org-left">Remplace toutes les occurences de <i>motif1</i>   à partir de la <i>N/&lt;sup&gt;ème&lt;/sup&gt; par /motif2</i></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orga8ae1ca" class="outline-4">
<h4 id="orga8ae1ca"><span class="section-number-4">4.9.2</span> Mode négatif</h4>
<div class="outline-text-4" id="text-4-9-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">s//motif1///motif2//p</td>
<td class="org-left">Écrit les lignes substituées dans la sortie standard</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgbc8fb35" class="outline-4">
<h4 id="orgbc8fb35"><span class="section-number-4">4.9.3</span> Rétro-références</h4>
<div class="outline-text-4" id="text-4-9-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&amp;</td>
<td class="org-left">Fait référence au dernier motif trouvé</td>
</tr>

<tr>
<td class="org-left">\/N/</td>
<td class="org-left">Fait référence au /N/&lt;sup&gt;ème&lt;/sup&gt; sous-motif mis entre \( \)</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgd90d09c" class="outline-4">
<h4 id="orgd90d09c"><span class="section-number-4">4.9.4</span> Restreinte</h4>
<div class="outline-text-4" id="text-4-9-4">
<p>
Voici quelques commandes sed de substitutions restreintes.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>M</i>,/N/ s//&#x2026;..///&#x2026;..//</td>
<td class="org-left">Ne traite que les lignes <i>M</i> à <i>N</i></td>
</tr>

<tr>
<td class="org-left"><i><i>motif</i></i> s//&#x2026;..///&#x2026;..//</td>
<td class="org-left">Ne traite que les lignes contenant <i>motif</i></td>
</tr>

<tr>
<td class="org-left"><i><i>motif1</i></i>,//motif2// s//&#x2026;..///&#x2026;..//</td>
<td class="org-left">Traite à partir de la ligne contenant <i>motif1</i>  jusqu'à la ligne contenant <i>motif2</i></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org7b481cb" class="outline-4">
<h4 id="org7b481cb"><span class="section-number-4">4.9.5</span> Caractère de séparation</h4>
<div class="outline-text-4" id="text-4-9-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">\/</td>
<td class="org-left">Permet de placer un / dans un motif</td>
</tr>

<tr>
<td class="org-left">s:/&#x2026;../:/&#x2026;../:</td>
<td class="org-left">Autre caractère de séparation, ici :</td>
</tr>

<tr>
<td class="org-left">\/caractèreDeSéparation/</td>
<td class="org-left">Permet de placer le caractère  de séparation dans un motif</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org43ccbce" class="outline-4">
<h4 id="org43ccbce"><span class="section-number-4">4.9.6</span> Exemples</h4>
<div class="outline-text-4" id="text-4-9-6">
<p>
Exemple : remplacer <i>motif</i> par (<i>motif</i> <i>motif</i>) :
</p>

<pre class="example">
sed 's//motif//(&amp; &amp;)/g' &lt; /entree/ &gt; /sortie/
</pre>
</div>
</div>
</div>


<div id="outline-container-orgf8d9065" class="outline-3">
<h3 id="orgf8d9065"><span class="section-number-3">4.10</span> Insertion</h3>
<div class="outline-text-3" id="text-4-10">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i><i>motif</i></i> r <i>fichier</i></td>
<td class="org-left">Insère <i>fichier</i> juste après <i>motif</i></td>
</tr>

<tr>
<td class="org-left"><i><i>motif</i></i> a \ <i>Texte</i></td>
<td class="org-left">Ajoute du texte après la ligne du motif</td>
</tr>

<tr>
<td class="org-left"><i><i>motif</i></i> i \ <i>Texte</i></td>
<td class="org-left">Ajoute du texte avant la ligne du motif</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org8ce14e0" class="outline-3">
<h3 id="org8ce14e0"><span class="section-number-3">4.11</span> Modifications</h3>
<div class="outline-text-3" id="text-4-11">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i><i>motif</i></i> c \ <i>Ligne</i></td>
<td class="org-left">Modifie la ligne du motif</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org49c6202" class="outline-3">
<h3 id="org49c6202"><span class="section-number-3">4.12</span> Multi-lignes</h3>
<div class="outline-text-3" id="text-4-12">
<p>
Dans la plupart des commandes sed, l'espace de travail
correspond à la ligne en cours de traitement. Il est possible
de modifier cet espace de travail.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">n</td>
<td class="org-left">Passe à la ligne suivante</td>
</tr>

<tr>
<td class="org-left">N</td>
<td class="org-left">Ajoute la ligne suivante à l'espace de travail</td>
</tr>

<tr>
<td class="org-left">D</td>
<td class="org-left">Efface la première ligne de l'espace de travail</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-left">Affiche la première ligne de l'espace de travail</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org554d16b" class="outline-3">
<h3 id="org554d16b"><span class="section-number-3">4.13</span> Mémoire annexe</h3>
<div class="outline-text-3" id="text-4-13">
<p>
En plus de l'espace de travail, sed dispose d'une mémoire
annexe.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">h</td>
<td class="org-left">Copie l'espace de travail dans la mémoire annexe</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-left">Ajoute l'espace de travail dans la mémoire annexe</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-left">Copie le contenu de la mémoire annexe dans l'espace de travail</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-left">Ajoute le contenu de la mémoire annexe dans l'espace de travail</td>
</tr>

<tr>
<td class="org-left">x</td>
<td class="org-left">Échange le contenu des 2 mémoires</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgac6bc2e" class="outline-3">
<h3 id="orgac6bc2e"><span class="section-number-3">4.14</span> Étiquettes</h3>
<div class="outline-text-3" id="text-4-14">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">:/étiquette/</td>
<td class="org-left">Définit une étiquette</td>
</tr>

<tr>
<td class="org-left">b <i>étiquette</i></td>
<td class="org-left">Va à une étiquette</td>
</tr>

<tr>
<td class="org-left">t <i>étiquette</i></td>
<td class="org-left">Va à une étiquette si la 		dernière substitution a  modifié la ligne</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org9ec89be" class="outline-2">
<h2 id="org9ec89be"><span class="section-number-2">5</span> Awk</h2>
<div class="outline-text-2" id="text-5">
<div id="text-table-of-contents">
<ul>
<li><a href="#orgc3a11c9">5.1. Généralites</a></li>
<li><a href="#org7edf1dd">5.2. Variables</a></li>
<li><a href="#org494c1b6">5.3. Opérations</a></li>
<li><a href="#org0806472">5.4. Logique</a></li>
<li><a href="#org999e767">5.5. Expressions régulières</a></li>
<li><a href="#org0462ee0">5.6. Affichage</a></li>
<li><a href="#org347dd52">5.7. Multi-lignes</a></li>
<li><a href="#org4eda8bc">5.8. Structures</a></li>
</ul>
</div>
</div>


<div id="outline-container-orgc3a11c9" class="outline-3">
<h3 id="orgc3a11c9"><span class="section-number-3">5.1</span> Généralites</h3>
<div class="outline-text-3" id="text-5-1">
<p>
Awk analyse l'entrée standard comme une succession de lignes (enregistrements),
chacune contenant plusieurs colonnes (champs). Voici la structure générique d'un
code awk :
</p>

<pre class="example">
BEGIN {
/Opérations de pré-traitement/
}

{
/Opérations/

/condition/ {
/Opérations/
}

END {
/Opérations de post-traitement/
}
</pre>

<p>
Le bloc BEGIN est exécuté avant la lecture du fichier, le bloc central
pendant et le bloc END après la lecture du fichier. Chaque sous-bloc
entre accolades peut être précédé d'une condition qui détermine son
exécution éventuelle.
</p>
</div>


<div id="outline-container-org444aa01" class="outline-4">
<h4 id="org444aa01"><span class="section-number-4">5.1.1</span> En ligne de commande</h4>
<div class="outline-text-4" id="text-5-1-1">
<pre class="example">
awk '/commandesAwk/'
</pre>
</div>
</div>


<div id="outline-container-org8cebc63" class="outline-4">
<h4 id="org8cebc63"><span class="section-number-4">5.1.2</span> Dans un script</h4>
<div class="outline-text-4" id="text-5-1-2">
<pre class="example">
#!/usr/bin/awk -f
/commandesAwk/
</pre>
</div>
</div>
</div>


<div id="outline-container-org7edf1dd" class="outline-3">
<h3 id="org7edf1dd"><span class="section-number-3">5.2</span> Variables</h3>
<div class="outline-text-3" id="text-5-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">FS</td>
<td class="org-left">Contient le séparateur de champ du fichier d'entrée  &lt;Espace&gt; ou &lt;tab&gt; par défaut</td>
</tr>

<tr>
<td class="org-left">RS</td>
<td class="org-left">Contient le séparateur d'enregistrement du fichier d'entrée  &lt;Return&gt; par défaut</td>
</tr>

<tr>
<td class="org-left">OFS</td>
<td class="org-left">Contient le séparateur de champ du fichier de sortie  &lt;Espace&gt; par défaut</td>
</tr>

<tr>
<td class="org-left">ORS</td>
<td class="org-left">Contient le séparateur d'enregistrement du fichier de sortie  &lt;Return&gt; par défaut</td>
</tr>

<tr>
<td class="org-left">NF</td>
<td class="org-left">Contient le nombre de champs de la ligne courante</td>
</tr>

<tr>
<td class="org-left">NR</td>
<td class="org-left">Contient le nombre de lignes déjà traitées</td>
</tr>

<tr>
<td class="org-left">FNR</td>
<td class="org-left">Contient le nombre de lignes déjà traitées  dans le fichier en cours de traitement</td>
</tr>

<tr>
<td class="org-left">FILENAME</td>
<td class="org-left">Contient le nom du fichier en cours de traitement</td>
</tr>

<tr>
<td class="org-left">$0</td>
<td class="org-left">Contient toute la ligne</td>
</tr>

<tr>
<td class="org-left">$1</td>
<td class="org-left">Contient le premier champ</td>
</tr>

<tr>
<td class="org-left">$/N/</td>
<td class="org-left">Contient le champ numéro <i>N</i></td>
</tr>

<tr>
<td class="org-left">$NF</td>
<td class="org-left">Contient le dernier champ</td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-orgdd95e61" class="outline-4">
<h4 id="orgdd95e61"><span class="section-number-4">5.2.1</span> Options</h4>
<div class="outline-text-4" id="text-5-2-1">
<p>
L'option -F permet de modifier le séparateur de champ à l'entrée :
</p>

<pre class="example">
awk -F '/séparateur/' /.../
</pre>
</div>
</div>


<div id="outline-container-orgf305e23" class="outline-4">
<h4 id="orgf305e23"><span class="section-number-4">5.2.2</span> Script</h4>
<div class="outline-text-4" id="text-5-2-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>script</i> <i>variable/=/valeur</i></td>
<td class="org-left">Appel d'un script en passant des valeurs aux variables</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org494c1b6" class="outline-3">
<h3 id="org494c1b6"><span class="section-number-3">5.3</span> Opérations</h3>
<div class="outline-text-3" id="text-5-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">/N/++</td>
<td class="org-left">Incrémentation</td>
</tr>

<tr>
<td class="org-left"><i>N</i>--</td>
<td class="org-left">Décrémentation</td>
</tr>

<tr>
<td class="org-left"><i>M</i> % <i>N</i></td>
<td class="org-left">Modulo</td>
</tr>

<tr>
<td class="org-left"><i>M/^/N</i></td>
<td class="org-left">Exposant</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org0806472" class="outline-3">
<h3 id="org0806472"><span class="section-number-3">5.4</span> Logique</h3>
<div class="outline-text-3" id="text-5-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">==</td>
<td class="org-left">Égal à</td>
</tr>

<tr>
<td class="org-left">!=</td>
<td class="org-left">Différent de</td>
</tr>

<tr>
<td class="org-left">&lt;=</td>
<td class="org-left">Inférieur ou égal à</td>
</tr>

<tr>
<td class="org-left">&gt;=</td>
<td class="org-left">Supérieur ou égal à</td>
</tr>

<tr>
<td class="org-left">&amp;&amp;</td>
<td class="org-left">Et</td>
</tr>

<tr>
<td class="org-left">¦¦</td>
<td class="org-left">Ou</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org999e767" class="outline-3">
<h3 id="org999e767"><span class="section-number-3">5.5</span> Expressions régulières</h3>
<div class="outline-text-3" id="text-5-5">
<p>
Awk utilise les expressions régulières étendues.
</p>
</div>


<div id="outline-container-org61b4074" class="outline-4">
<h4 id="org61b4074"><span class="section-number-4">5.5.1</span> Correspondances</h4>
<div class="outline-text-4" id="text-5-5-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><i>variable</i> ~ <i><i>motif</i></i></td>
<td class="org-left">Vaut vrai si le contenu de la variable  correspond au motif</td>
</tr>

<tr>
<td class="org-left"><i>variable</i> !~ <i><i>motif</i></i></td>
<td class="org-left">Vaut vrai si le contenu de la variable  ne correspond pas au motif</td>
</tr>

<tr>
<td class="org-left"><i><i>motif</i></i></td>
<td class="org-left">Équivalent à $0 ~ <i><i>motif</i></i></td>
</tr>

<tr>
<td class="org-left">! <i><i>motif</i></i></td>
<td class="org-left">Équivalent à $0 !~ <i><i>motif</i></i></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgca7c5af" class="outline-4">
<h4 id="orgca7c5af"><span class="section-number-4">5.5.2</span> Substitutions</h4>
<div class="outline-text-4" id="text-5-5-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">sub(<i><i>motif1</i></i>,"<i>motif2</i>",/variable/)</td>
<td class="org-left">La première occurence de <i>motif1</i> dans <i>variable</i>  est remplacée par <i>motif2</i></td>
</tr>

<tr>
<td class="org-left">gsub(<i><i>motif1</i></i>,"<i>motif2</i>",/variable/)</td>
<td class="org-left">Chaque occurence de <i>motif1</i> dans <i>variable</i>  est remplacée par <i>motif2</i></td>
</tr>

<tr>
<td class="org-left">gsub(<i><i>motif1</i></i>,"<i>motif2</i>")</td>
<td class="org-left">Équivalent à gsub(<i><i>motif1</i></i>,"<i>motif2</i>",$0)</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org0462ee0" class="outline-3">
<h3 id="org0462ee0"><span class="section-number-3">5.6</span> Affichage</h3>
<div class="outline-text-3" id="text-5-6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">print</td>
<td class="org-left">Affiche chaînes, variables sur la sortie standard</td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-org7bab912" class="outline-4">
<h4 id="org7bab912"><span class="section-number-4">5.6.1</span> Exemples</h4>
<div class="outline-text-4" id="text-5-6-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">print $2, $1</td>
<td class="org-left">Inverse les deux premières colonnes  d'un fichier</td>
</tr>

<tr>
<td class="org-left">NR % <i>N</i> == 0 { print $0 }</td>
<td class="org-left">Affiche toutes les <i>N</i> lignes</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org347dd52" class="outline-3">
<h3 id="org347dd52"><span class="section-number-3">5.7</span> Multi-lignes</h3>
<div class="outline-text-3" id="text-5-7">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">getline</td>
<td class="org-left">Passe à la ligne suivante</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">getline <i>var</i> &lt; <i>fichier</i></td>
<td class="org-left">Récupère une ligne dans un fichier et la place dans une variable</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><i>commande</i></td>
<td class="org-left">getline</td>
<td class="org-left">Récupère la sortie d'une commande</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org4eda8bc" class="outline-3">
<h3 id="org4eda8bc"><span class="section-number-3">5.8</span> Structures</h3>
<div class="outline-text-3" id="text-5-8">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">if ( <i>condition</i> ) { <i>&#x2026;</i> }</td>
<td class="org-left">Condition</td>
</tr>

<tr>
<td class="org-left">while ( <i>condition</i> ) { <i>&#x2026;</i> }</td>
<td class="org-left">Tant que</td>
</tr>

<tr>
<td class="org-left">for ( <i>variable</i> in <i>liste</i> ) { <i>&#x2026;</i> }</td>
<td class="org-left">Boucle</td>
</tr>

<tr>
<td class="org-left">function <i>fonction/(</i>&#x2026;/) { <i>&#x2026;</i> }</td>
<td class="org-left">Fonction</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org94c7499" class="outline-2">
<h2 id="org94c7499"><span class="section-number-2">6</span> Gpg</h2>
<div class="outline-text-2" id="text-6">
<div id="text-table-of-contents">
<ul>
<li><a href="#orgf2bba98">6.1. Généralités</a></li>
<li><a href="#org9d3bded">6.2. Export</a></li>
<li><a href="#org6587028">6.3. Import</a></li>
<li><a href="#orgd8c45bc">6.4. Révocation</a></li>
<li><a href="#org2e987a6">6.5. Édition</a></li>
<li><a href="#orged02ea5">6.6. Chiffrement</a></li>
<li><a href="#orgf732e3d">6.7. Signature</a></li>
</ul>
</div>
</div>


<div id="outline-container-orgf2bba98" class="outline-3">
<h3 id="orgf2bba98"><span class="section-number-3">6.1</span> Généralités</h3>
<div class="outline-text-3" id="text-6-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">gpg &#x2013;gen-key</td>
<td class="org-left">Génère un couple clé publique, clé privée</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;list-keys</td>
<td class="org-left">Donne la liste des clés</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;delete-secret-key <i>clé</i></td>
<td class="org-left">Supprime une clé privée</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;delete-key <i>clé</i></td>
<td class="org-left">Supprime une clé publique</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org9d3bded" class="outline-3">
<h3 id="org9d3bded"><span class="section-number-3">6.2</span> Export</h3>
<div class="outline-text-3" id="text-6-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">gpg &#x2013;export <i>clé</i> &gt; <i>clé</i>.pub</td>
<td class="org-left">Exporte une clé publique en binaire</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;armor &#x2013;export <i>clé</i> &gt; <i>clé</i>.pub</td>
<td class="org-left">Exporte une clé publique en ascii</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;fingerprint <i>clé</i> &gt; <i>empreinteClé</i></td>
<td class="org-left">Empreinte d'une clé</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;keyserver <i>adresseServeur</i> &#x2013;send-keys <i>clé</i></td>
<td class="org-left">Envoie la clé publique vers un serveur</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org6587028" class="outline-3">
<h3 id="org6587028"><span class="section-number-3">6.3</span> Import</h3>
<div class="outline-text-3" id="text-6-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">gpg &#x2013;import <i>clé</i>.pub</td>
<td class="org-left">Importe une clé publique</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;sign-key <i>clé</i></td>
<td class="org-left">Certifie une clé importée</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgd8c45bc" class="outline-3">
<h3 id="orgd8c45bc"><span class="section-number-3">6.4</span> Révocation</h3>
<div class="outline-text-3" id="text-6-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">gpg &#x2013;gen-revoke <i>clé</i> &gt; <i>révocation</i></td>
<td class="org-left">Génère un certificat de révocation d'une clé</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;import <i>révocation</i></td>
<td class="org-left">Valide une révocation en l'important</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org2e987a6" class="outline-3">
<h3 id="org2e987a6"><span class="section-number-3">6.5</span> Édition</h3>
<div class="outline-text-3" id="text-6-5">
<p>
La commande :
</p>

<pre class="example">
gpg --edit-key /clé/
</pre>

<p>
accède à un interpréteur de commande permettant d'éditer une clé.
En voici les principales commandes :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">help</td>
<td class="org-left">Aide</td>
</tr>

<tr>
<td class="org-left">uid <i>N</i></td>
<td class="org-left">Sélectionne ou désélectionne le /N/&lt;sup&gt;ième&lt;/sup&gt; utilisateur</td>
</tr>

<tr>
<td class="org-left">key <i>N</i></td>
<td class="org-left">Sélectionne ou désélectionne la /N/&lt;sup&gt;ième&lt;/sup&gt; clé</td>
</tr>

<tr>
<td class="org-left">adduid</td>
<td class="org-left">Ajoute un utilisateur de la clé</td>
</tr>

<tr>
<td class="org-left">deluid</td>
<td class="org-left">Supprime le ou les utilisateurs sélectionnés</td>
</tr>

<tr>
<td class="org-left">revuid</td>
<td class="org-left">Révoque le ou les utilisateurs sélectionnés  Nécessaire si la clé a été envoyée vers un serveur</td>
</tr>

<tr>
<td class="org-left">primary</td>
<td class="org-left">Marque l'utilisateur sélectionné comme principal</td>
</tr>

<tr>
<td class="org-left">addkey</td>
<td class="org-left">Ajoute une sous-clé</td>
</tr>

<tr>
<td class="org-left">delkey</td>
<td class="org-left">Supprime la ou les sous-clés sélectionnées</td>
</tr>

<tr>
<td class="org-left">revkey</td>
<td class="org-left">Révoque la ou les sous-clés sélectionnées</td>
</tr>

<tr>
<td class="org-left">list</td>
<td class="org-left">Informations sur la clé</td>
</tr>

<tr>
<td class="org-left">fpr</td>
<td class="org-left">Empreinte de la clé</td>
</tr>

<tr>
<td class="org-left">passwd</td>
<td class="org-left">Change le mot de passe de la clé</td>
</tr>

<tr>
<td class="org-left">save</td>
<td class="org-left">Enregistre les modifications et quitte</td>
</tr>

<tr>
<td class="org-left">quit</td>
<td class="org-left">Quitte</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orged02ea5" class="outline-3">
<h3 id="orged02ea5"><span class="section-number-3">6.6</span> Chiffrement</h3>
<div class="outline-text-3" id="text-6-6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">gpg &#x2013;encrypt &#x2013;recipient <i>clé</i> <i>fichier</i></td>
<td class="org-left">Chiffre un fichier</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;symmetric <i>fichier</i></td>
<td class="org-left">Chiffre un fichier symétriquement,  protection par mot de passe</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;decrypt <i>fichier</i>.gpg &gt; <i>fichier</i></td>
<td class="org-left">Déchiffre un fichier</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgf732e3d" class="outline-3">
<h3 id="orgf732e3d"><span class="section-number-3">6.7</span> Signature</h3>
<div class="outline-text-3" id="text-6-7">
</div>
<div id="outline-container-orgf91b8bd" class="outline-4">
<h4 id="orgf91b8bd"><span class="section-number-4">6.7.1</span> Crypté et signé</h4>
<div class="outline-text-4" id="text-6-7-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">gpg &#x2013;sign &#x2013;encrypt <i>fichier</i> &gt; <i>fichier</i>.sig</td>
<td class="org-left">Génère un message chiffré et signé, format binaire</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;armor &#x2013;sign &#x2013;encrypt <i>fichier</i> &gt; <i>fichier</i>.asc</td>
<td class="org-left">Génère un message chiffré et signé, format ascii</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;sign &#x2013;symmetric <i>fichier</i></td>
<td class="org-left">Génère un message chiffré symétriquement et signé</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;verify <i>fichier</i></td>
<td class="org-left">Vérifie un message signé</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;decrypt <i>chiffré</i> &gt; <i>déchiffré</i></td>
<td class="org-left">Déchiffre et vérifie un fichier crypté et signé</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org1ac03ce" class="outline-4">
<h4 id="org1ac03ce"><span class="section-number-4">6.7.2</span> Signature uniquement</h4>
<div class="outline-text-4" id="text-6-7-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">gpg &#x2013;detach-sign <i>fichier</i> &gt; <i>fichier</i>.sig</td>
<td class="org-left">Génère une signature binaire</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;armor &#x2013;detach-sign <i>fichier</i> &gt; <i>fichier</i>.asc</td>
<td class="org-left">Génère une signature ascii</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;verify <i>fichier</i>.sig <i>fichier</i></td>
<td class="org-left">Vérifie une signature binaire</td>
</tr>

<tr>
<td class="org-left">gpg &#x2013;verify <i>fichier</i>.asc <i>fichier</i></td>
<td class="org-left">Vérifie une signature ascii</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org631fc52" class="outline-4">
<h4 id="org631fc52"><span class="section-number-4">6.7.3</span> Document en clair</h4>
<div class="outline-text-4" id="text-6-7-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">gpg &#x2013;clearsign <i>fichier</i></td>
<td class="org-left">Génère un fichier contenant le document en clair  suivi de sa signature au format ascii</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>


<div id="outline-container-org76c8907" class="outline-2">
<h2 id="org76c8907"><span class="section-number-2">7</span> Ssh</h2>
<div class="outline-text-2" id="text-7">
<div id="text-table-of-contents">
<ul>
<li><a href="#orgc761c53">7.1. Clé</a></li>
<li><a href="#orga8738c5">7.2. Sshfs</a></li>
</ul>
</div>

<p>
Ssh est un shell sécurisé permettant d'accéder
à distance à une machine. La syntaxe générique pour
ouvrir une connexion de l'utilisateur <i>nom</i>
sur la machine <i>hôte</i> au répertoire <i>chemin</i>
est la suivante :
</p>

<pre class="example">
ssh /nom/@/hôte/:/chemin/
</pre>

<p>
Le nom de l'utilisateur est optionnel, il est
par défaut égal au nom de l'utilisateur sur la machine
depuis laquelle on ouvre la connexion. Le répertoire
par défaut est le répertoire personnel de l'utilisateur.
Ssh peut également simplement exécuter une commande sur
la machine distante :
</p>

<pre class="example">
ssh /nom/@/hôte/ /commande/
</pre>

<p>
Ssh comporte aussi d'autres outils respectant la même
syntaxe :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">sftp</td>
<td class="org-left">Protocole de transfert de fichiers sécurisé</td>
</tr>

<tr>
<td class="org-left">scp</td>
<td class="org-left">Copie à distance sécurisée</td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-orgc761c53" class="outline-3">
<h3 id="orgc761c53"><span class="section-number-3">7.1</span> Clé</h3>
<div class="outline-text-3" id="text-7-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">ssh-keygen -t dsa</td>
<td class="org-left">Génère un couple clé publique, privée</td>
</tr>

<tr>
<td class="org-left">ssh-keygen -l</td>
<td class="org-left">Liste des clés</td>
</tr>

<tr>
<td class="org-left">ssh-copy-id -i <i>cléPublique</i> <i>utilisateur/@/machine</i></td>
<td class="org-left">Installe la clé publique sur une machine distante</td>
</tr>
</tbody>
</table>
</div>


<div id="outline-container-org74b888f" class="outline-4">
<h4 id="org74b888f"><span class="section-number-4">7.1.1</span> Ne pas retaper son mot de passe à chaque fois</h4>
<div class="outline-text-4" id="text-7-1-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">ssh-agent <i>shell</i></td>
<td class="org-left">Lance un shell avec agent d'authentification ssh</td>
</tr>

<tr>
<td class="org-left">ssh-agent zsh</td>
<td class="org-left">Lance zsh avec agent d'authentification ssh</td>
</tr>

<tr>
<td class="org-left">ssh-add</td>
<td class="org-left">Ajoute une clé au cache de ssh-agent,</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">permettant de ne taper le mot de passe  de la clé qu'une fois</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-orga8738c5" class="outline-3">
<h3 id="orga8738c5"><span class="section-number-3">7.2</span> Sshfs</h3>
<div class="outline-text-3" id="text-7-2">
<p>
Sshfs permet de monter des répertoires distants en utilisant
le protocole ssh.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">sshfs <i>utilisateur/@/machine</i>://répertoire/ <i>pointDeMontage</i></td>
<td class="org-left">Montage</td>
</tr>

<tr>
<td class="org-left">fusermount -u <i>pointDeMontage</i></td>
<td class="org-left">Démontage</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org90c2479" class="outline-2">
<h2 id="org90c2479"><span class="section-number-2">8</span> Screen</h2>
<div class="outline-text-2" id="text-8">
<div id="text-table-of-contents">
<ul>
<li><a href="#orgd0ee917">8.1. Sessions</a></li>
<li><a href="#orgf41385c">8.2. Consoles</a></li>
<li><a href="#orgf9b343c">8.3. Mode ligne de commande</a></li>
<li><a href="#orgc7dd621">8.4. Mode copie</a></li>
<li><a href="#org9a33d6b">8.5. Journalisation</a></li>
<li><a href="#org0a96f14">8.6. Sous-écrans</a></li>
<li><a href="#org97a0ac3">8.7. Imbrication</a></li>
<li><a href="#orge7ef485">8.8. Configuration</a></li>
</ul>
</div>
</div>


<div id="outline-container-orgd0ee917" class="outline-3">
<h3 id="orgd0ee917"><span class="section-number-3">8.1</span> Sessions</h3>
<div class="outline-text-3" id="text-8-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">screen</td>
<td class="org-left">Lance une session de screen</td>
</tr>

<tr>
<td class="org-left">screen -S <i>nomSession</i></td>
<td class="org-left">Lance une session nommée de screen</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl a&gt;   d</td>
<td class="org-left">Se détache de la session screen</td>
</tr>

<tr>
<td class="org-left">screen -ls</td>
<td class="org-left">Affiche la liste des sessions screen</td>
</tr>

<tr>
<td class="org-left">screen -rx <i>identifiantSession</i></td>
<td class="org-left">S'attache à une session screen existante</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl a&gt;   x</td>
<td class="org-left">Verrouille la session screen</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgf41385c" class="outline-3">
<h3 id="orgf41385c"><span class="section-number-3">8.2</span> Consoles</h3>
<div class="outline-text-3" id="text-8-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;ctrl a&gt;   c</td>
<td class="org-left">Crée une nouvelle console virtuelle  dans la session screen courante</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl a&gt;   k</td>
<td class="org-left">Supprime la console virtuelle courante</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl a&gt;   \</td>
<td class="org-left">Supprime toutes les consoles virtuelles et quitte screen</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl a&gt;   n</td>
<td class="org-left">Passe à la console virtuelle suivante</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl a&gt;   p</td>
<td class="org-left">Passe à la console virtuelle précédente</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl a&gt;   &amp;quot;</td>
<td class="org-left">Permet de sélectionner une console virtuelle</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl a&gt;   <i>N</i></td>
<td class="org-left">Passe à la /N/&lt;sup&gt;ème&lt;/sup&gt; console virtuelle</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl a&gt;   A</td>
<td class="org-left">Renomme une console virtuelle</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgf9b343c" class="outline-3">
<h3 id="orgf9b343c"><span class="section-number-3">8.3</span> Mode ligne de commande</h3>
<div class="outline-text-3" id="text-8-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;ctrl a&gt;   :</td>
<td class="org-left">Accède au mode ligne  de commande de screen</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl a&gt;   :help</td>
<td class="org-left">Aide</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl a&gt;   :quit</td>
<td class="org-left">Quitte</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgc7dd621" class="outline-3">
<h3 id="orgc7dd621"><span class="section-number-3">8.4</span> Mode copie</h3>
<div class="outline-text-3" id="text-8-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;ctrl a&gt;   [</td>
<td class="org-left">Entre en mode copie  Permet de se balader dans l'écran à la mode vi</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl f&gt;</td>
<td class="org-left">Un écran vers le bas (mode copie)</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl b&gt;</td>
<td class="org-left">Un écran vers le haut (mode copie)</td>
</tr>

<tr>
<td class="org-left"><i>/expression</i></td>
<td class="org-left">Recherche vers le bas (mode copie)</td>
</tr>

<tr>
<td class="org-left">?/expression/</td>
<td class="org-left">Recherche vers le haut (mode copie)</td>
</tr>

<tr>
<td class="org-left">&lt;Espace&gt;</td>
<td class="org-left">Permet de marquer le début et la fin de la  zone à copier (mode copie</td>
</tr>

<tr>
<td class="org-left">&lt;esc&gt;</td>
<td class="org-left">Sort du mode copie</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl a&gt;   ]</td>
<td class="org-left">Colle le texte copié</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org9a33d6b" class="outline-3">
<h3 id="org9a33d6b"><span class="section-number-3">8.5</span> Journalisation</h3>
<div class="outline-text-3" id="text-8-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;ctrl a&gt; H</td>
<td class="org-left">Débute/Termine la journalisation d'un écran</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org0a96f14" class="outline-3">
<h3 id="org0a96f14"><span class="section-number-3">8.6</span> Sous-écrans</h3>
<div class="outline-text-3" id="text-8-6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;ctrl a&gt;   S</td>
<td class="org-left">Divise horizontalement l'écran en deux</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl a&gt;  </td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Divise verticalement l'écran en deux</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl a&gt;   &lt;tab&gt;</td>
<td class="org-left">Passe sur la partie suivante de l'écran</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&lt;ctrl a&gt;   X</td>
<td class="org-left">Supprime le sous-écran courant</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org97a0ac3" class="outline-3">
<h3 id="org97a0ac3"><span class="section-number-3">8.7</span> Imbrication</h3>
<div class="outline-text-3" id="text-8-7">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&lt;ctrl a&gt;   a   <i>commande</i> &lt;ctrl a&gt;   a   c, ", k, d, &#x2026;</td>
<td class="org-left">Envoie une commande à  un screen imbriqué dans un autre</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orge7ef485" class="outline-3">
<h3 id="orge7ef485"><span class="section-number-3">8.8</span> Configuration</h3>
<div class="outline-text-3" id="text-8-8">
<p>
Voici un exemple de fichier de configuration &lt;a href="exemples/screenrc.txt"&gt;screenrc&lt;/a&gt;.
</p>

<pre class="example">
&lt;a href="../../index.php"&gt;Accueil&lt;/a&gt;
</pre>

<pre class="example">
&lt;a title="Site déposé sur CopyrightFrance.com" href="http://www.copyrightfrance.com/phtml/p_logo1.php" target="_blank"&gt;&lt;img border="0" src="images/logsc15.gif" alt="CopyrightFrance.com"&gt;&lt;/a&gt;
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Auteur: chimay</p>
<p class="date">Created: 2019-10-01 mar 12:32</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
